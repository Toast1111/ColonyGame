var Zt=Object.defineProperty;var Jt=(e,t,i)=>t in e?Zt(e,t,{enumerable:!0,configurable:!0,writable:!0,value:i}):e[t]=i;var R=(e,t,i)=>Jt(e,typeof t!="symbol"?t+"":t,i);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))s(n);new MutationObserver(n=>{for(const a of n)if(a.type==="childList")for(const h of a.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&s(h)}).observe(document,{childList:!0,subtree:!0});function i(n){const a={};return n.integrity&&(a.integrity=n.integrity),n.referrerPolicy&&(a.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?a.credentials="include":n.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function s(n){if(n.ep)return;n.ep=!0;const a=i(n);fetch(n.href,a)}})();const O=(e,t)=>Math.random()*(t-e)+e,Kt=(e,t)=>Math.floor(O(e,t)),V=(e,t,i)=>Math.max(t,Math.min(i,e)),z=(e,t)=>{const i=e.x-t.x,s=e.y-t.y;return i*i+s*s},_t=e=>Math.hypot(e.x,e.y),jt=e=>{const t=_t(e)||1;return{x:e.x/t,y:e.y/t}},Vt=(e,t)=>({x:e.x-t.x,y:e.y-t.y}),u=32,I={w:240*u,h:240*u},Q={x:I.w/2,y:I.h/2},N={sky:"#0a0e14",ground:"#0e161f",colonist:"#c7f9cc",enemy:"#ff9aa2",tree:"#6fbf73",rock:"#9aa5b1",ghost:"#6ee7ff",wall:"#9aa5b1",bld:"#93c5fd",turret:"#93c5fd",farm:"#8bd3dd",house:"#e2b714",stock:"#c084fc",tent:"#f59e0b"},Rt={start:.72,end:.07};function kt(e,t,i,s){return Math.abs(e-i)+Math.abs(t-s)}function $t(){const e=Math.ceil(7680/u),t=Math.ceil(7680/u),i=e*t,s=32,n=Math.ceil(e/s),a=Math.ceil(t/s),h=n*a;return{cols:e,rows:t,solid:new Uint8Array(i),cost:new Float32Array(i).fill(1),minCost:1,sectionSize:s,sectionCols:n,sectionRows:a,dirtyFlags:new Uint8Array(h)}}function te(e){e.solid.fill(0),e.cost.fill(1),e.minCost=1,e.dirtyFlags.fill(1)}function Ct(e,t,i,s,n){const a=Math.floor(Math.floor(t/u)/e.sectionSize),h=Math.floor(Math.floor(i/u)/e.sectionSize),A=Math.floor(Math.floor((t+s-1)/u)/e.sectionSize),o=Math.floor(Math.floor((i+n-1)/u)/e.sectionSize);for(let c=Math.max(0,h);c<=Math.min(e.sectionRows-1,o);c++)for(let r=Math.max(0,a);r<=Math.min(e.sectionCols-1,A);r++){const g=c*e.sectionCols+r;e.dirtyFlags[g]=1}}function ee(e,t,i,s,n){const a=Math.floor(t/u),h=Math.floor(i/u),A=Math.floor((t+s-1)/u),o=Math.floor((i+n-1)/u);for(let c=h;c<=o;c++)for(let r=a;r<=A;r++)if(r>=0&&c>=0&&r<e.cols&&c<e.rows){const g=c*e.cols+r;e.solid[g]=1}Ct(e,t,i,s,n)}function St(e,t,i,s){const n=Math.floor((t-s)/u),a=Math.floor((i-s)/u),h=Math.floor((t+s)/u),A=Math.floor((i+s)/u);for(let o=a;o<=A;o++)for(let c=n;c<=h;c++)if(c>=0&&o>=0&&c<e.cols&&o<e.rows){const r=c*u+u/2,g=o*u+u/2,p=r-t,C=g-i;if(p*p+C*C<=s*s){const E=o*e.cols+c;e.solid[E]=1}}Ct(e,t-s,i-s,s*2,s*2)}function se(e,t,i,s,n,a){const h=Math.floor(t/u),A=Math.floor(i/u),o=Math.floor((t+s-1)/u),c=Math.floor((i+n-1)/u);for(let r=A;r<=c;r++)for(let g=h;g<=o;g++)if(g>=0&&r>=0&&g<e.cols&&r<e.rows){const p=r*e.cols+g;e.cost[p]=a,a<e.minCost&&(e.minCost=a)}Ct(e,t,i,s,n)}const qt=.7,ie={BASIC_PATH:.6,FAST_ROAD:.5,SLOW_PATH:.7,GRASS:1,ROUGH_TERRAIN:1.5};function rt(e,t){return e.cost[t]<=qt}function It(e,t,i){const s=Math.floor(t/u),n=Math.floor(i/u);return s<0||n<0||s>=e.cols||n>=e.rows?!1:rt(e,n*e.cols+s)}function Dt(e,t,i,s,n,a="BASIC_PATH"){const h=ie[a],A=Math.max(.5,Math.min(.7,h));se(e,t,i,s,n,A)}function mt(e,t){return{gx:Math.floor(e/u),gy:Math.floor(t/u)}}function oe(e,t){for(let i=0;i<t.length;i++){const s=Math.floor(t[i].x/u),n=Math.floor(t[i].y/u);if(s>=0&&n>=0&&s<e.cols&&n<e.rows){const a=n*e.cols+s;rt(e,a)&&(t[i].x=s*u+u/2,t[i].y=n*u+u/2)}}}function ne(e,t,i,s){const n=mt(t.x,t.y),a=mt(i.x,i.y),h=mt(s.x,s.y),A=Math.sign(a.gx-n.gx),o=Math.sign(a.gy-n.gy),c=Math.sign(h.gx-a.gx),r=Math.sign(h.gy-a.gy),g=A!==0&&r!==0||o!==0&&c!==0,p=a.gy*e.cols+a.gx;return g&&p>=0&&p<e.cost.length&&rt(e,p)}function ae(e,t,i,s,n){const a=e.cols,h=e.rows,A={x:Math.floor(t/u),y:Math.floor(i/u)},o={x:Math.floor(s/u),y:Math.floor(n/u)},c=(v,M)=>M*a+v;if(A.x===o.x&&A.y===o.y)return[{x:s,y:n}];const r=c(A.x,A.y),g=c(o.x,o.y),p=(v,M)=>v>=0&&M>=0&&v<a&&M<h,C=(v,M)=>{if(!p(v,M))return!1;const S=c(v,M);return S===r||S===g?!0:e.solid[S]===0},E=new Int32Array(a*h).fill(-1),y=new Float32Array(a*h).fill(1/0),B=new Float32Array(a*h).fill(1/0),b=new Uint8Array(a*h),l=[],d=v=>{l.push(v)},f=()=>{let v=-1,M=1/0;for(let w=0;w<l.length;w++){const k=l[w];if(b[k])continue;const D=B[k];D<M&&(M=D,v=w)}return v===-1?-1:l.splice(v,1)[0]},m=Math.max(1e-4,e.minCost);y[r]=0,B[r]=kt(A.x,A.y,o.x,o.y)*m,d(r);const x=[[1,0],[-1,0],[0,1],[0,-1]];for(;l.length;){const v=f();if(v===-1)break;if(b[v])continue;b[v]=1;const M=v%a,S=v/a|0;if(v===g){let w=[],k=v;for(;k!==-1;){const F=k%a,Y=k/a|0;w.push({x:F*u+u/2,y:Y*u+u/2}),k=E[k]}w.reverse(),w[w.length-1]={x:s,y:n};const D=[];for(let F=0;F<w.length-1;F++){const Y=w[F],H=w[F+1];D.push(Y);const $=Math.floor(Y.x/u),W=Math.floor(Y.y/u),nt=Math.floor(H.x/u),ht=Math.floor(H.y/u),gt=W*a+$,ct=ht*a+nt,at=rt(e,gt)&&rt(e,ct);if(!(at&&(W===ht||$===nt)))if(at){const tt=H.x-Y.x,Z=H.y-Y.y,ot=Math.hypot(tt,Z),et=Math.floor(ot/18);for(let J=1;J<=et;J++){const K=J/(et+1);D.push({x:Y.x+tt*K,y:Y.y+Z*K})}}else{const tt=H.x-Y.x,Z=H.y-Y.y,ot=Math.hypot(tt,Z),et=Math.floor(ot/24);for(let J=1;J<=et;J++){const K=J/(et+1);D.push({x:Y.x+tt*K,y:Y.y+Z*K})}}}D.push(w[w.length-1]),w=D;const T=(F,Y,H,$)=>{const W=H-F,nt=$-Y,ht=Math.hypot(W,nt)||1,gt=Math.max(6,u*.33),ct=Math.ceil(ht/gt);let at=0,dt=0;for(let Z=1;Z<ct;Z++){const ot=Z/ct,et=F+W*ot,J=Y+nt*ot,K=Math.floor(et/u),yt=Math.floor(J/u);if(K<0||yt<0||K>=e.cols||yt>=e.rows)return!1;const Mt=yt*e.cols+K;if(e.solid[Mt])return!1;e.cost[Mt]<=qt&&at++,dt++}const Et=It(e,F,Y),tt=It(e,H,$);return Et&&tt&&dt>0?at/dt>=.6:!0},P=[];let G=0;for(;G<w.length;){P.push(w[G]);let F=G+2,Y=G+1;for(;F<w.length&&!ne(e,w[G],w[G+1],w[F]);)if(T(w[G].x,w[G].y,w[F].x,w[F].y))Y=F,F++;else break;G=Y}return w=P.length>=2?P:w,oe(e,w),w}for(const[w,k]of x){const D=M+w,T=S+k;if(!C(D,T))continue;const P=T*a+D,G=e.cost[P]||1,F=y[v]+G;if(F<y[P]){E[P]=v,y[P]=F;const Y=kt(D,T,o.x,o.y)*Math.max(1e-4,e.minCost)*.9999;B[P]=F+Y,d(P)}}}return null}const L={house:{category:"Housing",name:"House",description:"Provides shelter for 2 colonists. Colonists can rest inside to recover fatigue.",key:"1",cost:{wood:20,stone:5},hp:220,size:{w:2,h:2},build:100,color:N.house,popCap:2},farm:{category:"Production",name:"Farm",description:"Grows crops that colonists can harvest for food. Takes 2 days to grow.",key:"2",cost:{wood:15},hp:120,size:{w:2,h:2},build:80,color:N.farm,growTime:1},turret:{category:"Defense",name:"Turret",description:"Automated defense structure. Shoots at enemies within range.",key:"3",cost:{wood:10,stone:20},hp:160,size:{w:1,h:1},build:120,color:N.turret,range:190,fireRate:.6,dps:30},wall:{category:"Defense",name:"Wall",description:"Blocks enemy movement. Essential for creating defensive perimeters.",key:"4",cost:{wood:5,stone:5},hp:150,size:{w:1,h:1},build:40,color:N.wall},stock:{category:"Utility",name:"Stockpile",description:"Increases resource storage capacity by 100. Colonists will store materials here.",key:"5",cost:{wood:10},hp:140,size:{w:2,h:2},build:60,color:N.stock,storageBonus:100},tent:{category:"Utility",name:"Recruit Tent",description:"Attracts new colonists every 60 seconds. Requires 15 food per recruit.",key:"6",cost:{wood:30,food:10},hp:140,size:{w:2,h:2},build:80,color:N.tent},warehouse:{category:"Utility",name:"Warehouse",description:"Large storage facility. Increases resource capacity by 300.",key:"7",cost:{wood:40,stone:20},hp:260,size:{w:3,h:2},build:160,color:N.stock,storageBonus:300},well:{category:"Production",name:"Well",description:"Provides clean water. Colonists can collect water here for food production.",key:"8",cost:{stone:25},hp:160,size:{w:1,h:1},build:80,color:N.farm},infirmary:{category:"Utility",name:"Infirmary",description:"Heals injured colonists within range. Essential for colony survival.",key:"9",cost:{wood:30,stone:20,food:10},hp:200,size:{w:2,h:2},build:140,color:N.bld,healRate:3,healRange:140,popCap:2},path:{category:"Utility",name:"Path",description:"Improves colonist movement speed by 50%. Cheap way to optimize traffic flow.",key:"0",cost:{wood:0},hp:1,size:{w:1,h:1},build:5,color:"#475569",speedBonus:1.5}};function ft(e,t){if(!t)return!0;for(const i of Object.keys(t))if((e[i]||0)<(t[i]||0))return!1;return!0}function wt(e,t){if(t)for(const i of Object.keys(t))e[i]-=t[i]||0}function pt(e,t,i){const s=L[e],n=Math.floor(t/u)*u,a=Math.floor(i/u)*u;return{kind:e,...s,x:n,y:a,w:s.size.w*u,h:s.size.h*u,hp:s.hp,buildLeft:s.build,done:!1,growth:0,ready:!1,cooldown:0}}function Ae(e){const t={};for(const i of Object.keys(e)){const s=e[i],n=s.category||"Other";(t[n]||(t[n]=[])).push([i,s])}for(const i of Object.keys(t))t[i].sort((s,n)=>s[1].name.localeCompare(n[1].name));return t}const le="data:image/png;base64,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",re="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAwCAYAAABwrHhvAAAAAXNSR0IArs4c6QAAAX5JREFUWIXtlT1ug0AQhcdpkj51hBuLLnfwFbjD0CIfgIoDuKOI78AVcpUg105ad6TJQ+Nhf1hix1I0n4QE7O57s38zRIZhGIZhGIYRoWrz4Zb6D/pH0WSjYdXmw/F0niUkx/0aiElRbbDdrSff6IO2xUEVTQYxDhm4xsm2OWMmW0BE1NV9KT6ZiPh9/7FSQqyGMRHR6+bROQbvKbB4sJz8E8CFOdqqNh/ku+qvAw6bV20+4AaoLZkIoR2m+IdvMX5CaFm4aLK3l+cnOp7O2JaDrzMMxPYd5C3q6t7p5TwDEOjqvhTX0GuujMcJCPOSErdgRN+GCHKLOLRtf8VdzW9DKDuClPoROoTRIL4+V5NAUurHLBOIilmxTrmyf0r9iAaAZOKqC+TIhkvqRwjWonIVfP3JkcK3u/XgCjqKFhSrIdsvgtDm5KkfcxnFMPtAfk+qH1H0IYQYhD0Zkn3nZhG6tOKJiAerXwr6EErD4MyuMnsZxLXEFgdxT3Pj//MNvPQlpMCKHrIAAAAASUVORK5CYII=",he="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAwCAYAAABwrHhvAAAAAXNSR0IArs4c6QAAA/VJREFUWIXtVjFrG0kU/jYEZLa5tQWb5JCRmxCSQpw6FUfATcpA5OJKFWY3xk3wD5AL6wcIN0FZ4cJlCqlImUZNCnc24rjD5OAkEL6cCnmdQhDwsVdE3+TN7KwiX1Ideo3Q7Lz3vve9N98MsLSlLW1p/ydrdSrJTX1ufU8A43h6Y5+FALQ6lWSR6nzPxcFR6UYsLARgZ+vEAWANLoGN4yl8z7XGyCpg4RZkBR/HU7Q6laTaKCb7230r0FankmS1JwUgC2lWcN9zMY6n6NaHTrVRTEyg3E//rwKYB8LGAttDn/3tviOrJcAsSwEw+11tFBUY33PV93KtkDCxyULv149aTFv1BHzLXLDRSBCv330Ak58ejxz21mRBGn3M5GRFAeAwAcDZxRXIQrc+VBX/8vNdtYdBzOq69aGzuvYZx+behgJERk0/BYALP/34A4DPrZAsPHu8BgB49WaE0+ORYyY3e0/Wes2BU64VEsYy2dVmgB+fPLqHaqOYkL4///hHG6ZWp5KQJWlcu5x8IYXtoq+coxQAViErYQAA4HBx4ACdZlqvOdDacnBUUgyYM5E6BWcXV/A9V7VCDhv/s9LNvY2k1xw4L14+0EAQVDy5xunxyLEdRZ6i1Cno1ocOW1G6nwOAYMZOGE+uv3rjMTkZovmeq5LyVwMgJZUV5nM5AMDb3/4CADx/WlCVsHr6SxbICltH89Zuq/bwmwJAmtbzKwqQ77l48fJBBAAHR6WITIiYAQAc7p5bZRZAwPa9ejOCWb0GgJP58M4qmGiepPaaAwWk1akkD++sYj2/AmrAjJXIJt+SGW0IZZJqoxhZJDUEgG59qCU3wQMIDnfPw3wuB99z8frdB5wejzTmUlIsWXjy6J5aO9w9D4FMSY0IeGfrJBzHU82XlceTa1l9KP0y3wNSUqWwcBYYRKhh23bcxvFUVd9rDkIxS/oQ0iySGtG5XCtEs6raGVdzOHuWRVwzFdMEaWUgQ1KjeZI6034JrA1o89K2sDb/SbaopLY6lYRvARl8BrZNMED6baAB+BZJNd8TwJe7g99tL6NMBrIkdX+775iSurN14vAErOdXYB5fmu0GTQGYJ6mswCapkp3S/Zz2lCvXCknWDaoBmCepAIKziyvrhUIWfM9VMQRzgazevEOsLbBJKqCfClk9Wfv970tUG8Wk//6TWivXCpG3dlsWolkKgMFCQCWkHpiSKkAm9JX3hLTNvY3I/GZjILBVC6Ql1QJaAeq//8TTE/aag9CIp/bZALRZtbTLiaNJKvcKECFbtbm3YWPLykzmMZSbbYBkclh6ayYz/rexgAUicGD8z9w/O37m3kz/rGP3X00mWKjKpS3tX9TH+YSAxDb2AAAAAElFTkSuQmCC",ce="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAwCAYAAABwrHhvAAAAAXNSR0IArs4c6QAAA+pJREFUWIXtVrFqG0sUPasujbE3gd3OpFAcgjAYF8GBly6FCz+cIriUEbugL1iBPsCg/QLBChOXIUUMLlykS2GRIizoiYDiwiiVBI4wacxrvK+wzvjO7Kwiv5fqodsIzc6999xz75wZYGELW9jC/k+WdqvZfX1KvxPAaDy5t89cANJuNZunOt9zcXq8cy8W5gKwsXXkALAGl8BG4wl8z7XGKCpg7hYUBR+NJ0i71azdqmTbuydWoGm3mhW1JwegCGlRcN9zMRpPUG/0nXarkplAuZ/+vwQwC4SNBbaHPtu7J46slgCLLAfA7He7VVFgfM9V35u1csbEJgt/nQ21mLbqCbhkLthoJIiPH1Iw+cHhucPemixIo4+ZnKwoABwmABgOLkAW6o2+qvjV6w21h0HM6uqNvrP08AYAEEfrChAZNf0UAC6srj0GcNsKycIffz4FALxPznBweO6Yyc3ek7Uo7jnNWjljLJNdbQb48fnLTbRblYz0fR/8rQ1T2q1mZEka137+uAvLdtFXzlEOAKuQlTAAAHC4OHCATjMtintaW06PdxQD5kzkTsFwcAHfc1Ur5LDxPyuNo/UsinvOu7cVDQRBXV1e4+Dw3LEdRZ6i3CmoN/oOW7H67AYAgik74dXl9S9vPCYnQzTfc1VS/moApKSywqXlWxY+f/oCAHgTvlCVsHr6SxbICltHW370QLWH3xQA0rTi3QHyPRfv3lYSADg93knIhIgZAMDeft8qswACtu99cgazeg0AJ/PJ2iaYaJakRnFPAUm71ezJ2iZWPIAaMGUlscm3ZEYbQpmk3aokFkkNAaDe6GvJTfAAgr39fri0/Bi+5+LjhxQHh+caczkpliw8f6kCYW//NlmBpCYEvLF1FI7GE82XlV9dXsvqQ+lX+B6QkiqFhbPAIEINO7bjNhpPVPVR3AvFLOlDSLNIakLnZq2cTKvqFFzN4fRZlnDNVEwTpJWBAklNZknqVPslsA6gzUvHwtrsJ9m8kpp2qxnfAjL4FGyHYID820AD8F8k1XxPAHd3B7/bXkaFDBRJ6vbuiWNK6sbWkcMTsOLpiaXZbtAcgFmSygpskirZWX12oz3lmrVyVnSDagBmSSqAYDi4sF4oZMH3XBVDMBfI6s07xNoCm6QC+qmQ1ZO1b4MvaLcq2fBrSa01a+Vk+dEDWYhmOQAGCwGVkHpgSqoAmdFX3hPS4mg9Mb/ZGAhs1QJ5SbWAVoCGX0s8PWEU90IjntpnA9Bh1dJ+/ihpksq9AkTIVsXRuo0tKzOFx1ButgGSyWHprZnM+N/BHBaIwIHxv3D/9PiZewv9i47dvzWZYK4qF7awfwAJR/sa22/msgAAAABJRU5ErkJggg==",de=""+new URL("Male_Average_Normal_east-Dp-W028J.png",import.meta.url).href,fe=""+new URL("Male_Average_Normal_north-jjTiChVU.png",import.meta.url).href,ue=""+new URL("Male_Average_Normal_south-ChBeJhbM.png",import.meta.url).href,ge="data:image/png;base64,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",ye=""+new URL("Naked_Male_north-B44-odFG.png",import.meta.url).href,me=""+new URL("Naked_Male_south-BtPFzGMg.png",import.meta.url).href,we="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAIAAAACACAYAAADDPmHLAAAACXBIWXMAAAEbAAABGwGN907lAAAHR0lEQVR4nO3cz08UZxgH8AckcCFhiQc9roFDPSijNzWp68kYD7u1fwBgE9PYC/VoNPzw0tCEPXmQgwtHmxiX2th4sKCJSdPL7kZbtcGABwuN2iUriUV3522e4Z3hnWFml4Wy8w58PzrO7jLAOs/z/ph33ncJAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAiomkXBSpGRIZ8bMjnbF5uS0SUD/H9wTZIEVGGiOaISGxgK8rjEwhGtKXqCHrQdkepJSBChmoFNx6Pi0QiYW2xWKzasTkiiu/k4O+EPoAhNw5UBxENqF+Mx+OUSqUomUySYRgUi/kX6nw+T5OTkzQxMUFLS0vql/jJDBEV5PMZzx5CEJdtdTGo9HLJTqfTol5zc3PCMIx6mgn0FxooJgNfMzg3b96sO/i2YrEoBgYG6ukvZKJ6QqPUBBiyxPm2yceOHaPm5mZqamqi3t5eOv/VeWpuat7SL+RmYWpqytpzs8AbPw4wQUT9W/qFEMjwq+6TyaTITmWtavv1X6/F27dvRel9SaysrAjTNDddA9SSy+XE0NCQXwcSzcE2yakn+ujRo+LuT3fFk6dPxIs/X4j5+XmxsLAg3r17J94vvxcfP37ctuCrOBE8SXAnaid2jwbvoZY+IvraPubMmTM0+v2o1ZtvaWkJ3Lg52G779++nlZUVmplxLgg+I6JJeeUQCVHoA9yRAzvWCb/1wy1qbW2ltrY2amtto9a2Vvdefm3PnsbkNvcLOjs71Zci1RfY/mKydU67eu7Lc9aeO3r8Z/WvZ9/U1NC05pqor69PfSkVpcGjKCSAM3LT3d29GmBS6i6/JGhwxTY4OOh9v5G5LNQ9AXxPpB1gNdB+rzUKjzZ6aoGEHJLWnq4JEJM9f9dZ5T6Ai1ILuPYhSKfT3mHmQbvvojMdE4DP4rRy757a29tp5NoI7du3z32kWNuL1X9Cw8Gfnp72/vqM7v0BHRMgrQa/q7uLxsbG6MSJE84BQkbaFXS5FyK8LOCbTZmMq9XSvj+g2zgAV5nf2U/s4KtVP1/f83U+X+bZe/WxvW/EOIAfToJXr16pQ8ZcAzyUs460o9s4wJxdZXK1f2P8xrp2nwNsXev7jAHw9X+jxwH88NjAgQMH1NvKWSL6IrQ3VIVOTYChtpcXv7m4vtNnV/FKm+/shXBtYeL+wMCAa1pCStfZRTolgDPgw6X/9OnTvgd5Ax20hY3vSHpoeUWgUwI4JYTb/iB+ATeF6d6bZuhJwGMD3B9Q9IT6hgJEYSRwHVfATSUZzLVk0KEWSCRcd4eN4CPDo2UCLC8vB37NKfWmOwl47zw2Vx+HLWj+oU50SgDnuunl7MuqSeAE31SCb7qDz4/D1tPjqvW1nCyiUwK4Ztk+fvw48EA7+HawXcFXNh2uBnSnUwIsqUlw+/btwANdpV8GvGJW1oJfMalSqVivhWl+XsuxHxfd+gCT9gNuBnjz46oBqm2VcGuBQqGgPtVyHYFuCZBVp1Pdv38/8EC1tKu1gHfj18PApZ8XmSi0XHiqWwIsySSwzL6cDTyQS7YdbCsJgrYQ+gIc+FOnTnlXGE0Gf0d4WjR8Tw/teQCFfCHwILUZWFfyK+6Nbwz9H/cGuFRns1mraufH9nqBDZjQtQbQMQFcJ4r7AUEjg95AO1vz2uNypWwlgL1oZDO4RPO6QWX2bz34m77dxvO1JdonwOLfi4EJ4NQCdq/fkwBW8MvN1nP7NnI9uJT39/dvNvB8CTAsS7+2dEwAkklgDZ1yDaBOBvGyA57/LU/3fr5HiwuL9Pz5cyqVSnT8+HGKdcbo5OcnrRXCPKl0o/MEuHr3acdtM7KpCvpUkXld7/976bouIGP3A7j0j4+PBx7II4Y8Kzefq93EXr16lYaHh2s2BQHBt0t0NkoLP2rRdWVQp337tPhP0bqr5jc3gIN/6dIlevbHsw390EePHtHhw4fp4MGDgccEBH9CTuj4lYj+3cT/R1u61gAxOTvIGkvtMXqsqWFeFy5c8A4WLclgFeRjQ96Gde7F8/Ds7Ows7d271/cXHzlyxLsCeDgqU7x3GtdHvYxcGxEPfnngbL29vX4f1hA0+J5Sj71y5Yool8vrFnvyit+dsu5/J4ipS8Lb29vF+Pi4kwD83PNZPrXuvEzbx3d0dIjFxUVXEvASc89K39xuD4AOXCW3q7tLTP04JcbSY5tZl59Qv+fy5cviw4cP4lP5k5UAfX19WOuvqYw3CTzVf7GOtz2t/qynvz+1kuDNmzfe0o+qXzM5T+lUt3XLcaqIq9979uxZUSqVxOjoqPdn7uiPhouiWJUkqPdTOVw1yvXr18WhQ4c2m1DQQEFJUG9bHav28XLeBamgnwFZ6jNbmGmbqpIAqP53CS7p3uCnd9tJ2E0fF++Hm4+kfL2g+507AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADY9QAAAAAAAAAAAAAAAAAAAAAAAAAAAAAg2ojoP63MveNkvqJrAAAAAElFTkSuQmCC",pe="data:image/png;base64,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",be="data:image/png;base64,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",Be="data:image/png;base64,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",ve="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAIAAAACACAYAAADDPmHLAAAACXBIWXMAAAEbAAABGwGN907lAAAHIklEQVR4nO2csU8bWRDGB9tEoBDJVYJCgU+4Z6Ncrj1TJdcdTaoo4poUqe6IFKWIdOQfCHfFpeWuyHUEUqYCCqoU2H0QKFIk0wCnREps73pP83izvF12weDFfgvfD0a7ttfr5zffzLzdt14CAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAICVDFxAtzhEVCGicb1O+rGwra1KRGtEtEpE+/1rLkiDEhHNE9EWEflnsCUi+vkyeiLrGYAd/zsRzaS0P84M/+jswYIo6udX9XJNZ44LkzWyLIAZHfXFuBcrlQo5jkPFYpHGx8epVCqp59fW1mh7e5uq1aqyLlgmordE9HdPvzVQLMSl+ZmZGX9pacnvlK2tLX9+ft4vlUpnKRtie0Q0lyREkD5HnM+OZ2d2w8rKil+pVGIFNTc3p9ZPEAoL4Vf4+3wJOb9YLJ4q4juBhWA6emFhIfSuDrLGErLB+TAXdf7GxkaqzjfhqE8SgRCXNbRtQATpUuml8wX+DIn04zINv8Ztiohg5SI5oJ8Uo8f3vXC+sLe3p6L8JNHxdo7jREUwd3ndlh7zZqdy/e0HPAg8owicXnXURaRkdiZHYj/hsQA7mB2dBAsEpSA9QqP+bg/10oAdzEI8TgTmAFJb6aI4pJeEov/58+e+53l9F4CvDwW5JCSJYHd3NyqA+cvjtvQI1f6PHz/6X79+tUYE7Pw4AbTbbb/ZbPoPHjwwBbBlayfnLGhDEsEEz/3792l4eJiazaYyz/P63jieY2Az8X2fWq0WNRoNunvvrvlSydYyULCgDXE45omU6elpajQbqoPFBgcHqVCwp/ntdls5X4m01aQ739+JblLSs41WYWsGCObmr127Rrdu3aJmo6lEwNH1rfFNLbmzueP7CYvRdd1Qu9iGhoZobGzMbFmlrw1NwNYMMCkrt2/fVo5v+21lfttXTm97bVUKOBOw5fN5Ghjo7ew2fz47nyPfNM4ArWaLbt68SZ8+feppm06LrQII0v/ExISKKHY6RxsvvbZ3aN6BcTlgO28hSBvY8WLK+W5YBCyA0dFR862TyXvtHzaPARRDw0OBACTyxZTzCx65nkuFfCEkArZcLpeKGGTcIWLjz/Nc71AA2vluyz3MAK0WXb9x3dyNlZNDmcgAUuvFJPILXkEJoOBqxxfySggiABGBZIWB3ACpv2NEwY6WpSo7nv5MzwuZcr4XzgJKAEYmYJHYjq0COAJ3csgRhQMBuAX3IPLzyQLI5XOUG8gFGcE0IeR4o9wEoosKwMwCnhaAMR7gbT5//mxPByZgqwC25bi5Vq3R5ORB+WRHyHkAdvygNxik/ljn53OUz2kRaOfzkq+EVCKIXBJpHmbKgJOzTTDo5MzjGgLwvNBYQEzE9GHzg7n7tR72X8dYL4A4uONlIGbW/cTo1wLgLHAk+kUDPv8fCiA42vAPnR+IwDsQgpQAEYI4PkvYLABFtValh/TwyAbmoIxTrhIACyEXiX6d/rn+yzKIfjMBaAHwv4p+KQVxWcA7HAdIuYhj88Nm7HeyCVsFUJOVSCfGInWaHSLRHmQAw+Lqv5QBcX6oBMSMA8zHx1Gv1+nLly/mFhDAKQgu2OdOZBFMlCdOfHfoUM11A0cH9V8ygI5+MwuYg8BABMZgUJ7rlFqtFt1yteM39xBbBSC/vFGHg+/evaPH5cen2oHpMHPyKIj8mENB08Hd1nMevBp09QuU88Tm2cBlWVlfX09tp2Z0R82M/m7grMWiNbAy+slyAbyVFa6naYrgvHmz+Cb6CX/a2lbbM0AwcFpcXOxvazqEoz/S1lVbB4BkuQCYF7LCNTULWeDVX6+io/8XyVv3H9sFEMoCMZ1rFXy0Eqn9yzbXfyZvQRuO4xsR/ScXiLDzeZr1zg9HrraxgmfPntHe7p7ZlJ9sv4+A7RmA9O/vgyji+hpzjN13uF2Rk1YvbK79QlZuEOHoH1wqRkZG6PW/r9XSBtjxjx49MlvCjv/OisadgO0lQKjrUnCPH/OM4Pv372lqaoquXLnS14ZxWXoy+yQ6NpnOQvRTBm8RE7qZ06QzSS9fvozdkM8d7OzsHCzrO8Fz9Z164s7LE+Ugq1wduUrlcplGro4knoZmp8/OzkZT/x9E9NsZv1/PyZoAivq3dsElYyyCp0+f0ubmpjpU5Dn4yGnYVGARjN4YVaLgz+QrlWKcz2OVqR71xaWlqMcD3dzX5zwskzeFyOpdwo5kgmPYNyZj9s2p5hh+NJ5yTuHQqo78zN06Lsu3iYsTgdzDr6YHYWmchHH01UmOvrS7EhEGn+z5Jav3DbwIt4qVX9xs93DkLdlh3+apXgAAAAAAAAAAAAAAAACXHgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAGAjRPQ/NSExxwDWb8cAAAAASUVORK5CYII=",xe="data:image/png;base64,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",Ce=""+new URL("Bowlcut_east-BqNLAYRr.png",import.meta.url).href,Ee=""+new URL("Bowlcut_north-CedmSNiQ.png",import.meta.url).href,Me="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAIAAAACACAYAAAG0OVFdAAAACXBIWXMAAAsTAAALEwEAmpwYAAAFHGlUWHRYTUw6Y29tLmFkb2JlLnhtcAAAAAAAPD94cGFja2V0IGJlZ2luPSLvu78iIGlkPSJXNU0wTXBDZWhpSHpyZVN6TlRjemtjOWQiPz4gPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iQWRvYmUgWE1QIENvcmUgNS42LWMxNDIgNzkuMTYwOTI0LCAyMDE3LzA3LzEzLTAxOjA2OjM5ICAgICAgICAiPiA8cmRmOlJERiB4bWxuczpyZGY9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkvMDIvMjItcmRmLXN5bnRheC1ucyMiPiA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0iIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtbG5zOmRjPSJodHRwOi8vcHVybC5vcmcvZGMvZWxlbWVudHMvMS4xLyIgeG1sbnM6cGhvdG9zaG9wPSJodHRwOi8vbnMuYWRvYmUuY29tL3Bob3Rvc2hvcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RFdnQ9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZUV2ZW50IyIgeG1wOkNyZWF0b3JUb29sPSJBZG9iZSBQaG90b3Nob3AgQ0MgMjAxOCAoV2luZG93cykiIHhtcDpDcmVhdGVEYXRlPSIyMDE5LTA5LTI4VDEzOjI5OjE4KzAxOjAwIiB4bXA6TW9kaWZ5RGF0ZT0iMjAxOS0wOS0yOFQxMzozMTozOCswMTowMCIgeG1wOk1ldGFkYXRhRGF0ZT0iMjAxOS0wOS0yOFQxMzozMTozOCswMTowMCIgZGM6Zm9ybWF0PSJpbWFnZS9wbmciIHBob3Rvc2hvcDpDb2xvck1vZGU9IjMiIHBob3Rvc2hvcDpJQ0NQcm9maWxlPSJzUkdCIElFQzYxOTY2LTIuMSIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDphNGY4M2QzMi1kMTA0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",Re="data:image/png;base64,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",ke="data:image/png;base64,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",Se="data:image/png;base64,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",Ie=""+new URL("Bravo_east-CJd2Z9hg.png",import.meta.url).href,De=""+new URL("Bravo_north-D1RfI44O.png",import.meta.url).href,Te=""+new URL("Bravo_south-BjW4bVxW.png",import.meta.url).href,Pe="data:image/png;base64,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",Fe="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAIAAAACACAYAAADDPmHLAAAACXBIWXMAAAEbAAABGwGN907lAAAG4UlEQVR4nO2cv08cRxTH3/1yRXGdsZGtk3BFw6azRKTQUYLlKo1DWqdB/gdCylQ4RSw5De7iBhOXrkjjylK4a4iJjY6IAqqcjVzd7e1Gb3beMjvs4fsBt7Pn70ce7YHvbufmfef73swtSwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABcpTDhkakRkaebME9EDePnP4noUDcwASwS0SYRNYkoHKA19etWIIJ8sjJE0Hu1FhGtE1F10gdtElJATc/cxV5P8DyPqtUolrVajQ4PI7fnozzuwQciuqfTBHCQNT1bEzO5Wq2Ga2tr4c7OTtgP/Dx+fq1W6+UIqwi+W/B03k4L/ObmZl9B7wWLYXFxMU0EttCkZvDyNHCTAFv+rh0gnsGtVmuk4JtsbGwMUjNsfwn1ggt49kzkWd+v1Q8Ku8mAhSPc4Ao5F3zP8y511qexvr6eOB+LTWoGFh/qhfFQtZd4q6urVxp4Ew68uI0Ji29lZQVOMAZ2sgo+s7u7G587jZR6oYWa4PJYMweXZ1wWsOXz+VkMaZipwigMwYjUzLzP6/Srzvm9aDabqg8XFZwp6QDbyiOyaQ7oVVX7/fK51MPitArDJlLB8FSzzPtp9LPJlLJ0XM9rALImkfvZgvOCtZPY/LLDODxx5c8Dmie2t7dRC4xIwv5H3d/PAuuLpU1XB7roQB/SSGykLCwsONOxflleXjaf2fOr6qxxVQDxgN2+fZtuztykbrebbY8GIAgCW7Q1V/vqqgBibt26RX7Hp06nowbWdcIwJN/3aW5uzu6pky5QdqAPaXwjv5uZmVHBLxaLVCgU6Nq1a+roKn43EuuNGzec7aOJqwKIYfvnAS0UCyrw3CqVipMi4JnfaXdUf7lZOLkh5HwKCLoBtTttNbDq2OmogWardQmuUbh/qrWjft69e9fsoZPfEDrvADywHHyZ/QV9HWtIIVXKbjgBC1JEKkLlloeaxX0BBNHMsoOvHCAkKpfLqj7IAin4eLbzrE+IoN12zqXScFUAH+TB27/fqsFMCz4feZZxTVAqlcbaQT5vPPM7xsxvn7XT09Ox9mkYXBVAQ7ZPP55+VINJEnxKBl8aO8E43IDPq9ISB93vxEtUs04REezv75svrV9px4bEeQd498+7WAAKDn4QUhAGUdMC4KBwYxGwG1y2ECTwKvgSeEMAsQh0Otjb2+v5mVzCVQHEs+XTp090dHSkNoTimW8GvxuoOqHSrcQBYgFIk/2DYeBzmYHnxrYvzRaAKYI3b97YZ3Tyr4tcFUBisOr1Ok1PT58FP0jO/EoQBb/sl2MHsEUgQpDGyFHSChlBl/c23UUJoOtT19cuwEIQAfidhBB2/9rt+XlcwuVVQF3Wzo16g5aWltTAKvu3BKBcoNwlv+wrESSCXypSqXjmBLyhVCxE6SEWgK7WzeAroXWDcwLo6QJaAPy74+Njev36tflZXmYwfn3hsgBeigDMweQZmLD/is793bIKPosgFkAxEoA4AAfedgFBVhcsMLvAVIEPtAD8yAVMEYgA5AurF1sv7M/ybDxDNjguC+APIvqRdB3w6tUr5QKkl2BcaCn759wvs5/t3y+lC4CDr2e/Cr76l0wBsQOEQew0HHipM2IXSBGBuIj01eCZqwUg5SAFxGlga2srFoAgOZqDcW7269yvjgVdAxjfJxQiBUSEZyJQwbcc4JwAdBqQ85s8+fWJEoHBT+Mfuv5xfSfwF7ma5uD9gUoF9sUhshvHwSj6xfMCKJaimW+lgFQHMNJAothMEUDaLl+j0Uib/U7feiYPN4hoygUVvBJ4+ttTmpqauvAFcc63mpn/Ew4ghaCxzEy4gBaApIg0eNY/evRICVXDtv+V6wIY7/7pcHyUXUEe5NZ/LVr4+uJLxMxlnG3ZZg5XR6nk9TFe3uk9fj7ye31uX//xxmN77f+zrmOcJg8CqOuraZQLHBwcKCe4c+dO329gr+1T1/dGTu8n4CZcnzz//bnd52+H+bDjJi/3CJKbQsQXVdy/f58e/vAwsw6dnJyomoSXfPzYIBfWL+TpJlGL+m8FYtgJHnz3QBWGn6sLRoVz+/uD92pTios9K+gm9/Jg/ULe7hLGN1/YSLu8at6bJ2/eo+vT15UwmNnZ2b6EwbUFpxaBg8zUG/Xo/84Ku4vgGf897ih29Xhp9wjKsG3jL3+yYTUjIexoF5qIoE/KjSJX9D2Aa5d0/X1dF3Ns6//qnw9dvahjFCb9ZtGDiAG5GwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMBYIKL/AYYfZG8WNNkZAAAAAElFTkSuQmCC",Ye="data:image/png;base64,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",Ge=""+new URL("Cleopatra_east-B3qqZTHk.png",import.meta.url).href,ze=""+new URL("Cleopatra_north-DFb2lqEL.png",import.meta.url).href,Le=""+new URL("Cleopatra_south-DYRggimK.png",import.meta.url).href,Ne="data:image/png;base64,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",Oe="data:image/png;base64,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",Qe="data:image/png;base64,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",Ue=""+new URL("Cute_east-DYRGxF50.png",import.meta.url).href,We=""+new URL("Cute_north-Dyfz5Iyy.png",import.meta.url).href,He=""+new URL("Cute_south-CSpoY84q.png",import.meta.url).href,Xe=""+new URL("Decent_east-DDtNv2Dw.png",import.meta.url).href,je=""+new URL("Decent_north-DK7xoZDS.png",import.meta.url).href,Ve=""+new URL("Decent_south-DVJAzXst.png",import.meta.url).href,qe=""+new URL("Elder_east-CcqrTIrj.png",import.meta.url).href,Ze=""+new URL("Elder_north-IBsD-VXD.png",import.meta.url).href,Je="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAIAAAACACAYAAAG0OVFdAAAACXBIWXMAAAsTAAALEwEAmpwYAAAFHGlUWHRYTUw6Y29tLmFkb2JlLnhtcAAAAAAAPD94cGFja2V0IGJlZ2luPSLvu78iIGlkPSJXNU0wTXBDZWhpSHpyZVN6TlRjemtjOWQiPz4gPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iQWRvYmUgWE1QIENvcmUgNS42LWMxNDIgNzkuMTYwOTI0LCAyMDE3LzA3LzEzLTAxOjA2OjM5ICAgICAgICAiPiA8cmRmOlJERiB4bWxuczpyZGY9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkvMDIvMjItcmRmLXN5bnRheC1ucyMiPiA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0iIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtbG5zOmRjPSJodHRwOi8vcHVybC5vcmcvZGMvZWxlbWVudHMvMS4xLyIgeG1sbnM6cGhvdG9zaG9wPSJodHRwOi8vbnMuYWRvYmUuY29tL3Bob3Rvc2hvcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RFdnQ9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZUV2ZW50IyIgeG1wOkNyZWF0b3JUb29sPSJBZG9iZSBQaG90b3Nob3AgQ0MgMjAxOCAoV2luZG93cykiIHhtcDpDcmVhdGVEYXRlPSIyMDE5LTA5LTI4VDEzOjU4OjMxKzAxOjAwIiB4bXA6TW9kaWZ5RGF0ZT0iMjAxOS0wOS0zMFQyMDoyMDoxMyswMTowMCIgeG1wOk1ldGFkYXRhRGF0ZT0iMjAxOS0wOS0zMFQyMDoyMDoxMyswMTowMCIgZGM6Zm9ybWF0PSJpbWFnZS9wbmciIHBob3Rvc2hvcDpDb2xvck1vZGU9IjMiIHBob3Rvc2hvcDpJQ0NQcm9maWxlPSJzUkdCIElFQzYxOTY2LTIuMSIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDo0YzM4NTlhZS03YjM0LTM5NGItODMzYS04YWVkMjI5Y2QzYmEiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6NGMzODU5YWUtN2IzNC0zOTRiLTgzM2EtOGFlZDIyOWNkM2JhIiB4bXBNTTpPcmlnaW5hbERvY3VtZW50SUQ9InhtcC5kaWQ6NGMzODU5YWUtN2IzNC0zOTRiLTgzM2EtOGFlZDIyOWNkM2JhIj4gPHhtcE1NOkhpc3Rvcnk+IDxyZGY6U2VxPiA8cmRmOmxpIHN0RXZ0OmFjdGlvbj0iY3JlYXRlZCIgc3RFdnQ6aW5zdGFuY2VJRD0ieG1wLmlpZDo0YzM4NTlhZS03YjM0LTM5NGItODMzYS04YWVkMjI5Y2QzYmEiIHN0RXZ0OndoZW49IjIwMTktMDktMjhUMTM6NTg6MzErMDE6MDAiIHN0RXZ0OnNvZnR3YXJlQWdlbnQ9IkFkb2JlIFBob3Rvc2hvcCBDQyAyMDE4IChXaW5kb3dzKSIvPiA8L3JkZjpTZXE+IDwveG1wTU06SGlzdG9yeT4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz5npbhEAAAIkUlEQVR4nO2dXWxUWxmGnzU9bSnlpGIA+YkgTaAmRHMwaEi0wUDshRKrEUJKPCHBEguxeseFHrjyAoHEOwS50guoxxBjhBBJDgnGNh75qfLjhSeUghCBJm2kP0sPnLO8mFnD7rRM98zsPV+H9T3JTqZ7r37zzrvfvWbtPXvWGOcclZCp6L+1wKsLGGPo6Ohwxhgiy+y7yzk3Y/Gbou0GBwfdrG1fVaCnp2daAWttaQUKFSxatGjWAkaTOA8K6F6YtwWMMUcL+oJOY8zsTzbbEXb+/PkZ+7arqyv+4Xz37t0ZBYwx8Q/nXPdlZop1hes0ifOiQMV7oVIqfgUqoOYFvBG3oTEzupGixA13qQ64TZs2Fa1srXUUDIySEtBrraWnp2fOhidOnIhfdbY+/hVDvszDhw/nfHWXL1922bLx6sbuiHIZGAPepHh2HNDinHsWq672hCogeAF6FKgAFaACVIC4gKRHxU+AT0GKo2KKjAn37NmzrNj22SvGH5TezA25f1+s3O3btx3w1dh1SxDgcgIWFhHw3J8XxK1bTgh/VWRb7Ex5yhHwNEab52kK+GWMNh+kIeCptRbg78We+Pjx4wAbYlctIYQw9yH2Fd8m8VOztBDvilWAClABKkAFiL8XSCO+B6RRA6QFSKMGSAuQRg2QFiCNGiAtQBo1IOmCBTd//dQY43JL4ba5lh9F/rfer0+cuBeQSryA1Qi47du3u4GBgZLuooiwhJdXZB25642J603JANfZ2RkVv7rM/fO8r68vWme8ZgwYHR111lq3ceNGB+wu0wBnrXXWWnfy5MmSrruLGzA0NOSste7KlSsO+EulBjQ3N6diQBrvAucBVqxYAUBnZyfEu6RflLq6ukpLzE5aCejt7Y0eu+V23667uztaZ2+tHAKfBtzOnTvLfQfwnOXlJ5NPoHbeBaIvoFLWERmvJK1XrwlKC5BGDZAWII0aIC1AGjVAWoA0aoC0AGnUAGkB0ui5gLQAadQAaQHSqAHSAqRRA6QFSKMGSAuQRg2QFiCNGiAtQBo1QFqANGqAtABp1ABpAdKoAdICpCn5a+dzkeDtrG8BQ8C0SaKSvoqdZgIywEdkb3D6YRn/Pwj8B/hFkqIKSdOAj4BMR0cHwP1yCuzatQugB/htcrIKSOkusSHATU5O+lvclpUj7datW663t9fX2JiK3pQMcEePHnWlzrdXwLtbt2511lrX0NCQr1MLBuwnd49v7gbnj8s0YKmvc+3aNW9AU9J60+gDdvkH69evh/ITMO4fbNiQn5jjSNmqXkUKCfgvkbu8Kd+At7dt21ZY51+1kIDGhQuLTbkTm90HDhxIok5R0jDgydTUVBJ1PrNu3ToAXrx44dftTaJwlDQMSGqoduPs2ey91hED3kuodp40DFi+ePFioOJh63VvwIIFC/y6JZUUnI00DJgYGxsD4OLFi5XUuTE8PAzA1atX/bo4s1mVRgrvAj8n9y6wY8cOB3xYprQ3fZ0tW7bU1EDoDcCdO3fO1dXVOeD9SvbP1NSUf/Hv1YoBAP/j5VddSpj6eaYBnZ2dvk5jGgYkfpdY7nrAcuDfuVWfB26VWe5jsl+4egysgNq5HvAYaCB7Fljui4esvovkXnwa6H2C0gKkUQOkBUijBkgLkEYNkBYgjRogLUAaNUBagDRqgLQAadQAaQHSqAHSAqRRA6QFSKMGSAuQRg2QFiBN8J8LhE7wR0DoaAACRwMQOBqAwNEABI4GIHA0AIGjAQgcDUDgaAACRwMQOBqAwNEABI4GIHA0AIGjAQgcDUDgaAACRwMQOBqAwNEABM68D4AxptjyZWPMJWPMI2PMH40xG+Zon8TyDWPMmDHGGWPuG2N2Fms/35n3AZiFDPBrsrMo/Rn4GrAS6AC+VIXnXwZ8Ivez96uBd3Na/kBuVqdaotYC8HXgBfA2QHd3NxMTE6xcudJv/0cVNNwBWLt2LVNTUxw8eNCv30522tB3qqAhOZKegyylOdggO5G0A9ySJUvco0ePnLXWHTp0yM+p9riKtj0kMkXyxMSEa29v9zoc8CffUNq/qk+al1IAPuvNbW5udk+fPnXWWjc8POwymYw3/QdVDMD3ANfQ0OBGRkbyE/zu27cvGoKzGoDkAnDaG3vs2LG84UeOHPFmP6rizvf8E3CnTp3K67HWutbW1mgIvi3t3+sSgGFv6p07d/Jmj46Ouvr6em/2F6q4898CXEtLi5ucnJwWgMOHD0cDcEXav7mWWhgEfhNYA9DY2Ehra2t+Q1NTE3v35ifU/lYVNe0G2L9/P5nMdAvb2tqif26soqbykE5gjB7gk2RH/s4Y48bHx6cdcYODg/5o+1sVbRsG3P3796dpsda6rq6uaA9wTtq/16EHGAXuQTasfkJxz8DAgH84VEVNQwD9/f3TVo6MjOBnfAfGgO9UUVNZ1EIAPge0AmQyGdasWTNt45kzZ/zDG1XUdKPguQFYunQpLS0t/s/FZGfQntfUQgB2kdPZ1NREfX19fsODBw+iR+H1Kmq6DnDhwgWePXv5S2eTk5PRvz8kjZ87SJhaCMA7wF8ha/ClS5fyGyLdLQgEwDlHX19ffuXp06ejZy6/ofyfkKoe0oOQGINAyF7vd4BbtWqVm5iYcNZa19bW5gdbDwSsGwfc5s2bnbXW3bt3z/9chiP7M3rLoQb8lRYQMwAAP8uZ69rb211/f390tP27qu76LFf889+8edOtXr06que7vpG0f69TAABORkyOLj+uwg4v5NgrtPwk2kjav9ctAADtwAc5s5+QuygjxPfJnqY6sp9EfrGwgbR/cy06TVzg1MJZgJIiGoDA0QAEjgYgcDQAgaMBCBwNQOBoAAJHAxA4GoDA0QAEjgYgcDQAgaMBCBwNQOBoAAJHAxA4GoDA0QAEjgYgcDQAgaMBCBwNQOBoAALn/+TTnSDPWBJYAAAAAElFTkSuQmCC",Ke=""+new URL("Fancybun_east-_VNdpRKg.png",import.meta.url).href,_e=""+new URL("Fancybun_north-jN5WcBOL.png",import.meta.url).href,$e=""+new URL("Fancybun_south-DplcV99p.png",import.meta.url).href,ts="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAIAAAACACAYAAADDPmHLAAAACXBIWXMAAAEbAAABGwGN907lAAAEWUlEQVR4nO3bv08bZxjA8cdxaRYj2MqELMHQIJA9sNWobJaY3H8gYWwVEJBK6WqUDmUiiAGJAcMW5EollRgJRsJKJZAwaga2ABNMZmBCwm/1vr077g6bGpSi8+vvJzm9vjtz3PE873M//FoAAAAAAAAAAAAAAAAAAAAAAAAAAABaVFpERp1d7xaRaRHZFpE/fMutE2uDbNXBHBeRlIgcisiqiFz41uvgFkQk6cwfO20ytJ1Zp72osw1ElO7VVRFRvunASQptPLSu2alaJ0EQMfWC7075ZoKfTCbvWl8g4NH22R+wzs5Of/Cq4eSYn58PBHh8fFxpdyTBdrv/gaMs7w/W2NiYWlpaatibV1ZWTLBzuZyZ162rUCiYZel0Wk1PT5MALcLr/f39/Wp3d1ft7e2p4eHhW8GfmJhQ19fXJty6CnR3d6tqteolgH6tE0K3+XyeBIi4bicwXqDe/PpGlctltb+/r4q/F28lwNHRkarVaibYBwcHXumvZ3R01LprgCcR2IcvaTt8z57JZMzNbiwWk2ffPpPJyUlv3cjIiCSTNxfz6XRapqammt2dk6gd/EPYlAB558rf09ffZ17q4JsnHjExAR4YGDDLdQK4yeHSSdBIpVLxr7HiOYAtCaBLv9d1e3p6TJtIJLw3xJx/+n+xWJSuri4ZGhoyS5t1cRGIeaXpH4wwWxIg53u4I69/ee0lgTjBdyuApoO/sbEhvb29Tf+CUqkUXnRc/52txZYE+N59oct+KpWS5y+e36yt08kHBwdNBWhWnfJPAkSIdyWX+S5j2mw2Kz3fOFXAvW4Xd1bde893dnb8s1aUf7HwLiBAnwrECbgJuu8m7r5JEDoF7DR+Z2uxLgEuLy9vL1RuowLJoJTyprusrq6GLwA3HuVgHoEtCeCV5HK5HFhhAiwqGOx7BF9bW1vzzx5zCogerySfnZ2Zyc8f7EZTI7Ozs+Hyv2DJ38ywJQECJfn8/Nx7XS/gNVW7tSxMl/yZmRnJ5/P+Nbr3v32sg3oMX1l0LBX3SeBh5dDcCrpMkGsq0NZqtcAUj8fNrZ6e9BW/fk4QOu9rPzz+Yf2/bEoAL1rhU4AJtqoF2tPTU9na2pKPf32UT39/kpOTOx/t623P2HTud9mUADvuB0H6QlDfDbiPgsM9fuHtgiwuLja73ZKtwdfiEdiHL0X30h/1tq6uruTp108llb45DegSH38Sl1c/v5L19fX/+pU62O9E5CcRmdNFJfqH/zC2jQoOfBy8vLzsfSLY0dEhc7/NyebmZvhnSk71KDlJZGVPbxdp/2CPvv4+9f7P92rrw5Z6OfEyPBhEjxpq/NkvWlZgPGA2mzVJkEgkwoNC235Yt80O/EmQSqfCvd/ab/rgX8k7vhPAYM42kWuQAPT+NpLzDRH/7HwbCAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAeSkT+AUPibJk5WdyzAAAAAElFTkSuQmCC",es="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAIAAAACACAYAAADDPmHLAAAACXBIWXMAAAEbAAABGwGN907lAAAE50lEQVR4nO3bPU8bSRjA8Qd8bZCTlsbXHSjSbYMo0rgkTeLLBwgOSm/zDeATEEoqA31EIkVKCW1eFLiCJkjYlwRxSARM7AtnjHdOM/aYycbGdg47rP3/SaNd74tnvc+zM+P1WgAAAAAAAAAAAAAAAAAAAAAAAAAAAACERCTkgYqJSEJE4iLyt4jke1hvUkR+E5GciPzbo3rhmBMRFSjJHpygZIN65whMb603CIIuxyIS7eKRRGt1NKo7cx1PVD9aaBIAW+Jd/MzxFnUvDG5YeiPmnvBoNKo2Nzd/WgLouvUxBOqPXacT1m8ywQBoPysBtAYJSFfQRfX+N5lMKitwFbYaCCZqTbUeRxzXynptWaLFvkm39bH0sQTGIegCr9HVr8Xj8Vb9cLQ2Um82gAsGcK7JYLI+/tB1Wg1aAY8EuHqJYPNrpdPpYADdflhftdk2Ah8s2UBr4rkJpOt0BfZt1ZLgB9S/93ue983JX19fb3YVNw28brYXFhZMCTThjRLhu9ZD1+nSx8R9ge6qJ4Db/DbphxsWvZ8dL+jAW3re9uuB7qRp8gQF9iMBuuDSBLgsCWKxmFpbWzPbJBIJs0xPreCyTCZj9mk3+A3GIaFJgF+uwTFcmUwmI9PT07K4uCj5fF6i0ajcv39fksmLrtzzPHn27JlZb9l5vU7T2+uyvLwsz58/r79XKpWSeLyb3zJ7r68SQNMBuixIbuBbrbOJ0M+G+/rTBegA66tanKvdndfrLkuQfjRQCeA2/bo5t+y8Xqe3GSShTIDq1+7Ozc/P1/dZWVlpOO9uMwhCmwDlcrmjRNja2jJTPZjTNjY26uvsvF1nt+3keH40KX+2UCfA2dmZVCqVtk6+7uez2Wz99e3bt6VUKpmi5y29jTs+aMX3/Y6T8ToJZQLok66Df1Y+M1MdgHYSwR3kPZp5JMViUYr/FGVmZsYscweJ7RyDTUI91a/RXd88inVwcKAOPx+qfD6vCoWC+vr1qyqVSqpcLqtKpaJ85X93s8be3JmcnFTZXFbl/spVSy5nltmbRs34vq/Oz89NPaenp6pYLKqTkxN1dHQUvGEUmu+OYboPkHNfHH4+lFs3b4kf8SUSiZgyPDxcn7plaGjI3BzK5apvoe8TLC0tyds3b83riYkJs+zVq1dmmydPnkg6na737broK9wW3drYqS7Hx9/9ApwLLriuhsJyoM7zeIYO4NTU1EXwI8MSGb6Ybm9vy5cvX0x58eKFrK6udlTZw4cP5d69ezIyMmKKHidU/Grg/Ypfna9Uk+Dly5fy+PFjd/ebPXxCeaBs2mZ2bGxM7ezsqN3dXdOMf/z0UT19+lTdvXu305992y537twxvyns7++rT3uf1IcPH1Q2m1Xj4+Pue2wOepC6Ke0GK/FHQr1+81q933mvUqnUjwR1rVY62m92dtYk3rt379SDBw+C69NhOqFh6gKsrPvAx40bN0wTvbe312q/jVqz/Gdt/uJGQFW8Vn6vdTeX/uozOjoqhULBdDEO3ff/+r8+HVry2ni0a+6KH8vymvwRJfgQCo+C9YjX5M8hm10OgtfkKaP1sAY/jF2Ay6s11dEmzXq32O4iX6uzs3vHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACDER+Q9xEDTIkulSxgAAAABJRU5ErkJggg==",ss="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAIAAAACACAYAAADDPmHLAAAACXBIWXMAAAEbAAABGwGN907lAAAFOElEQVR4nO3aT2sTaRzA8adbxYuSHHrx0saTnmzegDaCFqGX4NVL34CQgEfpZl9BoG8g116koXhy0SgIVnCJXZAuLvYPdu220k1TbbfVJr/lN2ZmnzzOWKlJ7Oj3Aw+dZJ6Z5+nzb57nyRgAAAAAAAAAAAAAAAAAAAAAAAAAAAAA6LpxY0zVGCPGmGljTLqHRZ5upSmtPIxT3b1VaBW+HWrGmGQPcpFspeWmXzhKBfQ9Gw8pfD/0oid+6/Q76qeY5TdljCn6H5LJpEmlUu75XuTh40Eq5eXBUuxRHjombg2gaA/zxWLRbQBDPchDkIamrXmwJO0Gis7K2MNtLpcTVSgU7CG42oMy9yeeXtpK8+I8Cno5If1hlPwCTiaTUqvVvMKfnp52C7+bQ3DKTkvTVpoXzZN1rvSjV1Y31Nze7xe+0wByIWmnW0Nzxe7BIaHailOM6MU5+xq/EYaMArX4Fe/R1jb8V6tVsWWzWbvwF63/JNWq0KgKPyhUnBFl0Y+vado0T869Mj96pXVS0PN0qHWVSqWwUSBsr+CwoeD2fk3T5TwGwkaiI6cvJg1AK+BnPchkMqZSqXwS4cyZM2ZpaSnyBrpcy2az3sx9eHjYXb6Zzc1NMzc3592jXC57n6PoPRYXFz85e+nSJfPgwQP/4y9x2ByKyzIwcVCEUil63pXL5cyTJ0/M1atXzYkTJ7wGoA3JDvqdntM4GlevOUxa6I5i1LPX5i7HUqmU92y+d++ed50GPY7ixtNr9R5hy88wmUwmdlvDcRkB6v7B54Zm3ZQpFP4vdx3O8/m8efjwYfDd8+fPI6+3z+k1eq39WNF7Oxs/6JFgQnfx4kXZ39+P7IWqUqlIOp1u67kDAwMyOjoaOQr4vX9sbExOnz7ddq3eS+95kDiOAHERNIALFy7Izr878uHDB2k2m5+tEp2p20P48ePHveuvX78uk5OT8u7dOy/osX6n5zSO/QgJm+2HaTQbMjIyQgPokmAJlkgkpF6vy/b2tuzt7R04GvgNwV6i3blzR2ZnZ2VmZsYLeqzf2UvNYrH4RRWvjVDzsLu7G8tlYFy0bQS9efPG24V7+/at7OzsyPv376XRaHy2onRC51eQ9myN7wetQH+k0DjuRlMUvU4boeZha2srlhtBx45AHr5E28zv2bNn5vz586bZbJr+Y/0f//b3B6Gvr89b0+uavF6ve/F18qhrf/2rE7u7v979WE1aWyLBZE/j6ORP/6bTaZNIJLxloh77cTW9RqPRFjQNR/RsFYcS9K6pqSl5tfJKVldXZX19XTb+2fAeCyt/rcitW7dkaGioUzuAbfOBiYkJWVtb83q8jj6bm5uysbEha+trcvv2bfcadFiwD3/jxg15ufBSlpeXZWVlRVb/XpVyuSyDg4NuJdRa+/mH+T3Av67t9a/BoUFvvqAVr43v9eprrzHm8m17EJ9uE+KrBZWoy7X5P+blxZ8vZGFhQfL5vFt5pYhf877kp+KwOGn752gNN2/e9Cp+aXnJa4zXrl1zGw86LFgKnj17VuZ+n5PHs4/l8uXLbs/r5ssYGXskujJ6RZ7+9lTm5+fl3LlzLAG7rO1lzPuV+15DsL6b7uFbwcFopBX/6NEjdwTiNfEuSNuFfPLkSbvAv8X+bPD7xKlTp9wGwCthXRL2Pv637G1hr4jzNlAXuS95HIWhNmutGIq8CdR9462GEKv37wEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAB8F4wx/wE9mUF5CNZnBwAAAABJRU5ErkJggg==",is="data:image/png;base64,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",os=""+new URL("Flowy_north-CjN0OhUN.png",import.meta.url).href,ns=""+new URL("Flowy_south-CP20N1Hd.png",import.meta.url).href,as=""+new URL("Fringe_east-D4I7-ug9.png",import.meta.url).href,As=""+new URL("Fringe_north-BaR1__6m.png",import.meta.url).href,ls=""+new URL("Fringe_south-DYZWOYbC.png",import.meta.url).href,rs="data:image/png;base64,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",hs=""+new URL("ShirtBasic_Male_north-D0Q-ZKK7.png",import.meta.url).href,cs=""+new URL("ShirtBasic_Male_south-CIlSPWtc.png",import.meta.url).href,it=class it{constructor(){R(this,"images",new Map);R(this,"loaded",!1)}static getInstance(){return it.instance||(it.instance=new it),it.instance}async loadAssets(){const t=[{name:"house",path:le},{name:"wheat_stage_1",path:re},{name:"wheat_stage_2",path:he},{name:"wheat_stage_3",path:ce}],i=[{name:"head_male_average_normal_east",path:de},{name:"head_male_average_normal_north",path:fe},{name:"head_male_average_normal_south",path:ue},{name:"body_naked_male_east",path:ge},{name:"body_naked_male_north",path:ye},{name:"body_naked_male_south",path:me},{name:"hair_afro_east",path:we},{name:"hair_afro_north",path:pe},{name:"hair_afro_south",path:be},{name:"hair_bob_east",path:Be},{name:"hair_bob_north",path:ve},{name:"hair_bob_south",path:xe},{name:"hair_bowlcut_east",path:Ce},{name:"hair_bowlcut_north",path:Ee},{name:"hair_bowlcut_south",path:Me},{name:"hair_braidbun_east",path:Re},{name:"hair_braidbun_north",path:ke},{name:"hair_braidbun_south",path:Se},{name:"hair_bravo_east",path:Ie},{name:"hair_bravo_north",path:De},{name:"hair_bravo_south",path:Te},{name:"hair_burgundy_east",path:Pe},{name:"hair_burgundy_north",path:Fe},{name:"hair_burgundy_south",path:Ye},{name:"hair_cleopatra_east",path:Ge},{name:"hair_cleopatra_north",path:ze},{name:"hair_cleopatra_south",path:Le},{name:"hair_curly_east",path:Ne},{name:"hair_curly_north",path:Oe},{name:"hair_curly_south",path:Qe},{name:"hair_cute_east",path:Ue},{name:"hair_cute_north",path:We},{name:"hair_cute_south",path:He},{name:"hair_decent_east",path:Xe},{name:"hair_decent_north",path:je},{name:"hair_decent_south",path:Ve},{name:"hair_elder_east",path:qe},{name:"hair_elder_north",path:Ze},{name:"hair_elder_south",path:Je},{name:"hair_fancybun_east",path:Ke},{name:"hair_fancybun_north",path:_e},{name:"hair_fancybun_south",path:$e},{name:"hair_firestarter_east",path:ts},{name:"hair_firestarter_north",path:es},{name:"hair_firestarter_south",path:ss},{name:"hair_flowy_east",path:is},{name:"hair_flowy_north",path:os},{name:"hair_flowy_south",path:ns},{name:"hair_fringe_east",path:as},{name:"hair_fringe_north",path:As},{name:"hair_fringe_south",path:ls},{name:"apparel_shirt_basic_male_east",path:rs},{name:"apparel_shirt_basic_male_north",path:hs},{name:"apparel_shirt_basic_male_south",path:cs}],n=[...t,...i].map(a=>this.loadImage(a.name,a.path));try{await Promise.all(n),this.loaded=!0}catch{console.warn("Some assets failed to load, continuing with fallbacks"),this.loaded=!0}}loadImage(t,i){return new Promise((s,n)=>{const a=new Image;a.onload=()=>{this.images.set(t,a),console.log(`Loaded image: ${t}`),s()},a.onerror=()=>{console.warn(`Failed to load image: ${t} from ${i}`),n(new Error(`Failed to load ${t}`))},a.src=i})}getImage(t){return this.images.get(t)||null}getColonistSprite(t,i,s){const n=`${t}_${i}_${s}`;return this.images.get(n)||null}getAvailableHairStyles(){return["afro","bob","bowlcut","braidbun","bravo","burgundy","cleopatra","curly","cute","decent","elder","fancybun","firestarter","flowy","fringe"]}getAvailableHeadTypes(){return["male_average_normal"]}getAvailableBodyTypes(){return["naked_male"]}getAvailableApparelTypes(){return["shirt_basic_male"]}isLoaded(){return this.loaded}};R(it,"instance");let j=it;const ds=["Alex","Jordan","Taylor","Casey","Morgan","Riley","Jamie","Avery","Quinn","Sage","River","Rowan","Phoenix","Dakota","Skyler","Emery","Emma","Liam","Olivia","Noah","Ava","Ethan","Sophia","Mason","Isabella","William","Mia","James","Charlotte","Benjamin","Amelia","Lucas","Zara","Kai","Nova","Atlas","Luna","Orion","Iris","Felix","Hazel","Jasper","Willow","Oscar","Ivy","Leo","Ruby","Finn"],fs=["Smith","Johnson","Williams","Brown","Jones","Garcia","Miller","Davis","Rodriguez","Martinez","Hernandez","Lopez","Gonzalez","Wilson","Anderson","Thomas","Taylor","Moore","Jackson","Martin","Lee","Perez","Thompson","White","Harris","Sanchez","Clark","Ramirez","Lewis","Robinson","Walker","Young","Allen","King","Wright","Scott","Torres","Nguyen","Hill","Flores","Green","Adams","Nelson","Baker","Hall","Rivera","Campbell","Mitchell"],us=["Former Teacher","Ex-Engineer","Retired Chef","Former Nurse","Ex-Carpenter","Former Artist","Ex-Farmer","Former Mechanic","Ex-Librarian","Former Soldier","Ex-Scientist","Former Merchant","Ex-Doctor","Former Baker","Ex-Blacksmith","Former Scholar","Ex-Hunter","Former Musician","Ex-Tailor","Former Guard"],gs=["Optimistic","Hardworking","Friendly","Brave","Creative","Analytical","Compassionate","Resourceful","Patient","Loyal","Adventurous","Wise","Energetic","Calm","Witty","Generous","Determined","Gentle","Curious","Resilient"],ys=["Fresh Bread","Roasted Vegetables","Berry Pie","Hearty Stew","Honey Cakes","Grilled Fish","Wild Mushrooms","Apple Cider","Cheese & Crackers","Herbal Tea","Dried Fruits","Nut Butter","Vegetable Soup","Sweet Berries","Grain Porridge"],ms=["#F5DEB3","#DEB887","#D2B48C","#BC9A6A","#8B7355","#654321","#F4C2A1","#E8B796","#D4A574","#C19A6B","#A0522D","#8B4513","#FFE4E1","#FFF8DC","#F0E68C","#E6E6FA","#F5F5DC","#FFEFD5"],ws=["#8B4513","#D2691E","#CD853F","#DEB887","#F4A460","#FFD700","#FF8C00","#B22222","#800000","#2F4F4F","#000000","#696969","#FFB6C1","#87CEEB","#DDA0DD","#90EE90","#F0E68C","#FFDAB9","#98FB98","#F5DEB3","#FFE4B5","#E0E0E0","#D3D3D3","#C0C0C0"],ps=["#8B4513","#228B22","#4169E1","#808080","#32CD32","#006400","#4682B4","#2E8B57","#8B008B","#FF69B4","#FF4500","#DC143C","#00FFFF","#FF00FF","#FFFF00","#FF8C00","#9932CC","#00FA9A"],bs=["#8B4513","#228B22","#4169E1","#DC143C","#FF8C00","#9932CC","#2F4F4F","#B22222","#008B8B","#DAA520","#8B008B","#556B2F","#4682B4","#32CD32","#FFD700","#FF6347","#87CEEB","#DDA0DD","#F0E68C","#FFA500","#98FB98","#F5DEB3","#E6E6FA","#FFDAB9"],Bs=["Once lived in a bustling city before seeking a simpler life in the wilderness.","Grew up on a farm and knows the value of hard work and community.","Traveled extensively before deciding to settle down and build something lasting.","Lost their previous home to disaster and is determined to rebuild stronger.","Always dreamed of living close to nature and away from the chaos of modern life.","Inherited skills from their family trade and wants to put them to good use.","Seeks redemption by helping others and contributing to something meaningful.","Values knowledge and believes in preserving wisdom for future generations.","Passionate about creating beauty and bringing joy to others through their work.","Believes in the power of community and wants to help create a safe haven.","Hopes to find peace and purpose after years of searching for their place in the world.","Dreams of creating a legacy that will benefit generations to come."];function U(e){return e[Math.floor(Math.random()*e.length)]}function vs(e,t){return[...e].sort(()=>.5-Math.random()).slice(0,t)}function xs(){const e=()=>.9+Math.random()*.2;return{workSpeed:Math.round(e()*100)/100,socialBonus:Math.round(e()*100)/100,hungerRate:Math.round(e()*100)/100,fatigueRate:Math.round(e()*100)/100}}function Tt(){const e=U(ds),t=U(fs),i=`${e} ${t}`,s=U(us),n=vs(gs,2+Math.floor(Math.random()*2)),a=U(ys),h=U(Bs),A={skinTone:U(ms),hairColor:U(ws),eyeColor:U(ps),clothing:U(bs),sprites:{headType:U(j.getInstance().getAvailableHeadTypes()),bodyType:U(j.getInstance().getAvailableBodyTypes()),hairStyle:U(j.getInstance().getAvailableHairStyles()),apparelType:U(j.getInstance().getAvailableApparelTypes())}},o=xs();return{name:i,background:s,personality:n,favoriteFood:a,backstory:h,avatar:A,stats:o}}function Cs(e){return`${e.name}, a ${e.personality.join(" and ").toLowerCase()} ${e.background.toLowerCase()}`}function xt(e){const t=e.hp||0,i=e.hunger||0,s=e.fatigue||0;return t<30?"Injured":i>80?"Starving":s>80?"Exhausted":e.inside?"Resting":e.state==="flee"?"Terrified":t>80&&i<30&&s<30?"Happy":t>60&&i<50&&s<50?"Content":"Okay"}function Es(e,t){e.setTransform(1,0,0,1,0,0),e.fillStyle=N.sky,e.fillRect(0,0,t.width,t.height)}function Ms(e,t){e.translate(-t.x*t.zoom,-t.y*t.zoom),e.scale(t.zoom,t.zoom)}function Rs(e){e.fillStyle=N.ground,e.fillRect(0,0,I.w,I.h),e.globalAlpha=.08,e.strokeStyle="#d6e4ff",e.lineWidth=1,e.beginPath();for(let t=0;t<=I.w;t+=u)e.moveTo(t,0),e.lineTo(t,I.h);for(let t=0;t<=I.h;t+=u)e.moveTo(0,t),e.lineTo(I.w,t);e.stroke(),e.globalAlpha=1}function Pt(e,t,i,s,n){e.fillStyle=n,e.beginPath(),e.arc(t,i,s,0,Math.PI*2),e.fill()}function ks(e,t,i,s,n,a,h=0){e.fillStyle=a,e.beginPath();for(let A=0;A<n;A++){const o=h+A*2*Math.PI/n,c=t+Math.cos(o)*s,r=i+Math.sin(o)*s;A===0?e.moveTo(c,r):e.lineTo(c,r)}e.closePath(),e.fill()}function Ss(e,t,i,s=10,n=N.colonist){e.save(),e.translate(t,i);const a="#0b0f14",h=s*.32,A=-s*.3;e.fillStyle=n,e.beginPath(),e.arc(0,A,h,0,Math.PI*2),e.fill(),e.strokeStyle=a,e.lineWidth=1,e.beginPath(),e.arc(0,A,h+.5,0,Math.PI*2),e.stroke();const o=s*.55,c=s*.55,r=-s*.05;e.fillStyle=n,e.beginPath(),e.moveTo(-o/2,r-c/2),e.lineTo(o/2,r-c/2),e.lineTo(o/2,r+c/2),e.lineTo(-o/2,r+c/2),e.closePath(),e.fill(),e.strokeStyle=a,e.stroke();const g=s*.18,p=s*.5,C=r+c/2+p*.1;e.fillStyle=n,e.fillRect(-g-.6,C-p,g,p),e.fillRect(.6,C-p,g,p),e.strokeStyle=a,e.strokeRect(-g-.6,C-p,g,p),e.strokeRect(.6,C-p,g,p),e.restore()}function Ft(e,t,i,s,n=8,a=!1){const h=s.profile;if(!h){e.fillStyle=a?"#93c5fd":N.colonist,e.beginPath(),e.arc(t,i,n,0,Math.PI*2),e.fill();return}e.save(),e.translate(t,i);let A="south";if(s.direction!==void 0){const m=(s.direction*180/Math.PI+360)%360;m>=315||m<45?A="east":m>=45&&m<135?A="south":m>=135&&m<225?A="east":A="north"}const o=s.direction!==void 0&&(s.direction*180/Math.PI+360)%360>=135&&(s.direction*180/Math.PI+360)%360<225;o&&e.scale(-1,1);const c=32,r=48;a&&(e.fillStyle="#93c5fd",e.globalAlpha=.3,e.beginPath(),e.arc(0,0,n+2,0,Math.PI*2),e.fill(),e.globalAlpha=1);const g=window.imageAssets||null;if(!g||!g.isLoaded()){e.fillStyle=h.avatar.clothing,e.beginPath(),e.arc(0,0,n,0,Math.PI*2),e.fill(),e.restore();return}const p=h.avatar.sprites,C=(f,m)=>{const x=document.createElement("canvas");x.width=c,x.height=r;const v=x.getContext("2d");v.drawImage(f,0,0,c,r);const M=v.getImageData(0,0,c,r),S=M.data,w=m.replace("#",""),k=parseInt(w.substr(0,2),16),D=parseInt(w.substr(2,2),16),T=parseInt(w.substr(4,2),16);for(let P=0;P<S.length;P+=4)if(S[P+3]>0){const G=(S[P]+S[P+1]+S[P+2])/765;S[P]=k*G,S[P+1]=D*G,S[P+2]=T*G}return v.putImageData(M,0,0),x},E=g.getColonistSprite("body",p.bodyType,A);if(E){const f=C(E,h.avatar.skinTone);e.drawImage(f,-c/2,-28.799999999999997)}const y=g.getColonistSprite("apparel",p.apparelType,A);if(y){const f=C(y,h.avatar.clothing);e.drawImage(f,-c/2,-28.799999999999997)}const B=g.getColonistSprite("head",p.headType,A);if(B){const f=C(B,h.avatar.skinTone);e.drawImage(f,-c/2,-28.799999999999997)}const b=g.getColonistSprite("hair",p.hairStyle,A);if(b){const f=C(b,h.avatar.hairColor);e.drawImage(f,-c/2,-28.799999999999997)}e.save(),o&&e.scale(-1,1);const l=xt&&xt(s)||"Okay";let d="#22c55e";switch(l){case"Happy":d="#22c55e";break;case"Content":d="#84cc16";break;case"Okay":d="#eab308";break;case"Injured":d="#ef4444";break;case"Starving":d="#dc2626";break;case"Exhausted":d="#6b7280";break;case"Terrified":d="#7c2d12";break;case"Resting":d="#3b82f6";break;default:d="#eab308";break}e.fillStyle=d,e.beginPath(),e.arc(0,-28.799999999999997+r*.1,3,0,Math.PI*2),e.fill(),e.strokeStyle="#000000",e.lineWidth=.5,e.stroke(),e.restore(),e.restore()}function Is(e,t,i,s=12,n="#60a5fa"){e.save(),e.translate(t,i),e.fillStyle=n,e.strokeStyle="#0b0f14",e.lineWidth=1,e.beginPath();const a=s,h=s*1.2;e.moveTo(0,-h*.5),e.lineTo(a*.35,-h*.25),e.lineTo(a*.35,h*.1),e.quadraticCurveTo(0,h*.55,-a*.35,h*.1),e.lineTo(-a*.35,-h*.25),e.closePath(),e.fill(),e.stroke(),e.restore()}function Ds(e,t){if(t.kind==="path"){e.fillStyle="#1f2937",e.fillRect(t.x,t.y,t.w,t.h),e.strokeStyle="#0b0f14cc",e.strokeRect(t.x+.5,t.y+.5,t.w-1,t.h-1);return}if(t.kind==="house"){const i=j.getInstance(),s=i.getImage("house");s&&i.isLoaded()?(e.drawImage(s,t.x,t.y,t.w,t.h),e.strokeStyle="#0b0f14cc",e.strokeRect(t.x+.5,t.y+.5,t.w-1,t.h-1)):(e.fillStyle=t.color,e.fillRect(t.x,t.y,t.w,t.h),e.strokeStyle="#0b0f14cc",e.strokeRect(t.x+.5,t.y+.5,t.w-1,t.h-1))}else if(t.kind==="farm"&&t.done){const i=j.getInstance(),s=t.growth||0;let n="wheat_stage_1";s>=.67?n="wheat_stage_3":s>=.33&&(n="wheat_stage_2");const a=i.getImage(n);a&&i.isLoaded()?(e.drawImage(a,t.x,t.y,t.w,t.h),e.strokeStyle="#0b0f14cc",e.strokeRect(t.x+.5,t.y+.5,t.w-1,t.h-1)):(e.fillStyle=t.color,e.fillRect(t.x,t.y,t.w,t.h),e.strokeStyle="#0b0f14cc",e.strokeRect(t.x+.5,t.y+.5,t.w-1,t.h-1),s>0&&(e.fillStyle="#4ade80",e.fillRect(t.x+2,t.y+t.h-4,(t.w-4)*Math.min(s,1),2)))}else e.fillStyle=t.color,e.fillRect(t.x,t.y,t.w,t.h),e.strokeStyle="#0b0f14cc",e.strokeRect(t.x+.5,t.y+.5,t.w-1,t.h-1);if(!t.done){e.fillStyle="#0b1220",e.fillRect(t.x,t.y-6,t.w,4),e.fillStyle="#6ee7ff";const i=1-t.buildLeft/t.build;e.fillRect(t.x,t.y-6,i*t.w,4)}if(t.kind!=="house"&&!(t.kind==="farm"&&t.done)){e.fillStyle="#0b0f14aa",e.font="bold 12px system-ui";const i=t.x+t.w/2,s=t.y+t.h/2;let n="B";t.kind==="hq"?n="HQ":t.kind==="farm"?n="F":t.kind==="turret"?n="T":t.kind==="wall"?n="W":t.kind==="stock"?n="S":t.kind==="tent"?n="R":t.kind==="warehouse"?n="WH":t.kind==="well"?n="WL":t.kind==="infirmary"&&(n="I"),e.textAlign="center",e.textBaseline="middle",e.fillText(n,i,s)}if(t.kind==="turret"&&t.range){const i=t.x+t.w/2,s=t.y+t.h/2;e.globalAlpha=.07,e.fillStyle="#e2f3ff",e.beginPath(),e.arc(i,s,t.range,0,Math.PI*2),e.fill(),e.globalAlpha=1}}function Ts(e,t){for(const i of t)e.globalAlpha=.8,e.strokeStyle="#e0f2fe",e.lineWidth=2,e.beginPath(),e.moveTo(i.x,i.y),e.lineTo(i.tx,i.ty),e.stroke(),e.globalAlpha=1}function Ps(e,t,i,s){s.uiScale;const n=s.scale(s.isTouch?14:10),a=s.scale(s.isTouch?56:44),h=t.width;e.fillStyle="#0b122088",e.fillRect(0,0,h,a),e.strokeStyle="#1e293b",e.lineWidth=1,e.strokeRect(0,.5,h,a),e.fillStyle="#dbeafe",e.font=s.getScaledFont(s.isTouch?18:16,"600");let A=n;const o=Math.max(s.scale(s.isTouch?170:130),Math.min(s.scale(s.isTouch?260:220),Math.round(t.width*.14)));if(st(e,A,s.scale(12),`Wood: ${Math.floor(i.res.wood)}`,"#b08968",s),A+=o,st(e,A,s.scale(12),`Stone: ${Math.floor(i.res.stone)}`,"#9aa5b1",s),A+=Math.max(o,s.scale(s.isTouch?220:180)),st(e,A,s.scale(12),`Food: ${Math.floor(i.res.food)}`,"#9ae6b4",s),A+=o,i.storage){const B=Math.floor(i.storage.used/i.storage.max*100),b=B>90?"#ef4444":B>70?"#eab308":"#22c55e";st(e,A,s.scale(12),`Storage: ${Math.floor(i.storage.used)}/${i.storage.max} (${B}%)`,b,s),A+=Math.max(o,s.scale(s.isTouch?260:200))}const c=`Colonists: ${i.colonists}/${i.cap}`;st(e,A,s.scale(12),c,"#93c5fd",s),A+=Math.max(o,s.scale(s.isTouch?260:210));const r=`Hiding: ${i.hiding}`;st(e,A,s.scale(12),r,"#60a5fa",s),A+=Math.max(s.scale(s.isTouch?180:140),o*.9|0);const g=`Day ${i.day}  ${i.tDay*24|0}:00 ${i.isNight?"":""}`;st(e,A,s.scale(12),g,i.isNight?"#ffd166":"#6ee7ff",s);const p=t.height-s.scale(s.isTouch?86:64),C=Math.max(s.scale(s.isTouch?170:140),Math.min(s.scale(s.isTouch?260:220),(t.width-n*2)/i.hotbar.length));A=n,e.fillStyle="#0b122088",e.fillRect(0,p,t.width,s.scale(s.isTouch?86:64)),e.strokeStyle="#1e293b",e.strokeRect(0,p+.5,t.width,s.scale(s.isTouch?86:64)),e.font=s.getScaledFont(s.isTouch?17:15);for(let B=0;B<i.hotbar.length;B++){const b=i.hotbar[B],l=A+s.scale(2),d=p+s.scale(s.isTouch?14:10),f=C-s.scale(6),m=s.scale(s.isTouch?60:44);Fs(e,l,d,f,m,`${B+1}. ${b.name}`,b.cost,b.selected,s),Array.isArray(s.hotbarRects)&&(s.hotbarRects[B]={index:B,x:l,y:d,w:f,h:m}),A+=C}let E=a+s.scale(s.isTouch?12:8);const y=Math.min(s.scale(s.isTouch?520:420),t.width-n*2);for(let B=i.messages.length-1;B>=0;B--){const b=i.messages[B];Ys(e,h-y-n,E,b.text,y,s),E+=s.scale(s.isTouch?34:26)}}function st(e,t,i,s,n,a){const h=e.measureText(s).width+a.scale(a.isTouch?28:24),A=a.scale(a.isTouch?32:26);e.fillStyle="#0f172a",e.fillRect(t,i,h,A),e.strokeStyle="#1e293b",e.strokeRect(t+.5,i+.5,h-1,A-1),e.fillStyle=n,e.fillRect(t+a.scale(3),i+a.scale(3),a.scale(a.isTouch?10:8),A-a.scale(6)),e.fillStyle="#dbeafe",e.fillText(s,t+a.scale(a.isTouch?18:16),i+a.scale(a.isTouch?22:18))}function Fs(e,t,i,s,n,a,h,A,o){e.fillStyle=A?"#102034":"#0f172a",e.fillRect(t,i,s,n),e.strokeStyle=A?"#4b9fff":"#1e293b",e.strokeRect(t+.5,i+.5,s-1,n-1),e.fillStyle="#dbeafe",e.fillText(a,t+o.scale(10),i+o.scale(o.isTouch?36:28)),e.fillStyle="#9fb3c8",e.fillText(h,t+s-o.scale(o.isTouch?66:56),i+o.scale(o.isTouch?36:28))}function Ys(e,t,i,s,n,a){const h=a.scale(a.isTouch?30:24);e.fillStyle="#0f172aee",e.fillRect(t,i,n,h),e.strokeStyle="#1e293b",e.strokeRect(t+.5,i+.5,n-1,h-1),e.fillStyle="#dbeafe",e.fillText(s,t+a.scale(10),i+a.scale(a.isTouch?20:16))}function ut(e,t,i,s){for(const n of e.buildings){if(n.kind==="hq"||n.kind==="path"||n.kind==="house"||n.kind==="farm"||!n.done)continue;const a=Math.max(n.x,Math.min(t,n.x+n.w)),h=Math.max(n.y,Math.min(i,n.y+n.h)),A=t-a,o=i-h;if(A*A+o*o<=s*s)return!0}return!1}function Gs(e,t){t.stuckTimer===void 0&&(t.stuckTimer=0),t.lastPos||(t.lastPos={x:t.x,y:t.y}),t.lastMoveCheck||(t.lastMoveCheck=0);const i=ut(e,t.x,t.y,t.r);t.lastMoveCheck+=1/60;let s=!1;if(t.lastMoveCheck>1&&(Math.hypot(t.x-t.lastPos.x,t.y-t.lastPos.y)<5&&(t.state==="chop"||t.state==="mine"||t.state==="build"||t.state==="harvest")&&(s=!0),t.lastPos={x:t.x,y:t.y},t.lastMoveCheck=0),i||s){if(t.stuckTimer+=1/60,t.stuckTimer>3){const a=[0,Math.PI/2,Math.PI,3*Math.PI/2,Math.PI/4,3*Math.PI/4,5*Math.PI/4,7*Math.PI/4];let h=!1;for(const A of[20,40,60,80]){for(const o of a){const c=t.x+Math.cos(o)*A,r=t.y+Math.sin(o)*A,g=Math.max(t.r,Math.min(c,I.w-t.r)),p=Math.max(t.r,Math.min(r,I.h-t.r));if(!ut(e,g,p,t.r)){t.x=g,t.y=p,t.stuckTimer=0,h=!0,console.log(`Rescued stuck colonist at (${t.x.toFixed(1)}, ${t.y.toFixed(1)}) using distance ${A}`);break}}if(h)break}if(!h){const A=e.buildings.find(o=>o.kind==="hq");A&&(t.x=A.x+A.w/2+(Math.random()-.5)*40,t.y=A.y-40+(Math.random()-.5)*20,t.stuckTimer=0,console.log("Emergency rescue: teleported stuck colonist to HQ area"))}return!0}}else t.stuckTimer=0;return!1}function zs(e,t,i){var B,b;if(!t.alive)return;if(t.t+=i,t.state||r("seekTask","initial state"),t.stateSince=(t.stateSince||0)+i,Gs(e,t)){t.task=null,t.target=null,e.clearPath&&e.clearPath(t),r("seekTask","rescued from stuck");return}const s=t.state==="build"||t.state==="chop"||t.state==="mine"||t.state==="harvest"||t.state==="flee"||t.state==="move",n=((B=t.profile)==null?void 0:B.stats.hungerRate)||1,a=((b=t.profile)==null?void 0:b.stats.fatigueRate)||1,h=(s?.25:t.inside?.1:.15)*n;t.hunger=Math.max(0,Math.min(100,(t.hunger||0)+i*h));const A=(s?.8:.3)*a;if(t.inside||t.state==="resting"||t.state==="sleep"?t.fatigue=Math.max(0,(t.fatigue||0)-i*8):t.fatigue=Math.min(100,(t.fatigue||0)+i*A),t.fatigueSlow=(t.fatigue||0)>66?.8:(t.fatigue||0)>33?.9:1,(t.hunger||0)>=95){const l=2*i;t.hp=Math.max(0,t.hp-l),Math.random()<.05&&console.log(`Colonist starving: hunger=${(t.hunger||0).toFixed(1)}, hp=${t.hp.toFixed(1)}, damage=${l.toFixed(2)}/frame`)}(t.hunger||0)<30&&!s&&!t.inside&&(t.hp=Math.min(100,t.hp+.8*i));const o=e.buildings.find(l=>l.kind==="infirmary"&&l.done);if(o){const l=o.healRange||140,d=o.healRate||3;(t.x-(o.x+o.w/2))**2+(t.y-(o.y+o.h/2))**2<=l*l&&(t.hp=Math.min(100,t.hp+d*i))}const c=e.enemies.find(l=>z(l,t)<140*140);t.lastHp=t.lastHp??t.hp,t.hp<t.lastHp&&(t.hurt=1.5),t.lastHp=t.hp,t.hurt=Math.max(0,(t.hurt||0)-i);function r(l,d){if(!(!(m=>m==="flee"||m==="heal")(l)&&t.softLockUntil!=null&&t.t<(t.softLockUntil||0))&&t.state!==l){if(l==="sleep"||l==="flee"||l==="heal"||l==="goToSleep"||l==="eat"||l==="resting"){const x=t.task;x&&(x==="chop"||x==="mine"||x==="build"||x==="harvestFarm"||x==="harvestWell")&&(t.task==="build"&&t.target&&e.releaseBuildReservation&&e.releaseBuildReservation(t),t.target&&e.assignedTargets&&e.assignedTargets.has(t.target)&&e.assignedTargets.delete(t.target),t.task=null,t.target=null,e.clearPath&&e.clearPath(t),d&&Math.random()<.2&&console.log(`Cleared work task (${x}) when changing to ${l}: ${d}`))}const m=t.state;t.prevState=m,t.state=l,t.stateSince=0,t.lastStateChangeReason=d||"",l==="eat"?t.softLockUntil=t.t+1.5:l==="goToSleep"||l==="sleep"?t.softLockUntil=t.t+2:l==="resting"?t.softLockUntil=t.t+1:t.softLockUntil=void 0,d&&Math.random()<.1&&console.log(`Colonist state change: ${m}  ${l} (${d})`)}}const p=t.stateSince>1||t.state==="idle"||t.state==="seekTask"||t.state==="chop"||t.state==="mine"||t.state==="build"||t.state==="harvest"||c,C=80,E=20;function y(){let l=null;const d=(f,m,x)=>{(!l||m>l.prio)&&(l={state:f,prio:m,reason:x})};return!t.inside&&c&&d("flee",100,"danger detected"),!t.inside&&!c&&(t.hp||0)<35&&d("heal",90-Math.max(0,t.hp)*.1,"low health"),!t.inside&&!c&&e.isNight()&&d("sleep",80,"night time"),!t.inside&&!c&&!e.isNight()&&(t.fatigue||0)>=C&&d("goToSleep",70+Math.min(20,(t.fatigue||0)-C),"high fatigue"),!t.inside&&(t.hunger||0)>75&&(e.RES.food||0)>0&&d("eat",60+Math.min(25,(t.hunger||0)-75),"hunger"),d("seekTask",10,"default"),l}if(t.inside&&t.state!=="resting")r("resting","entered building");else{const l=f=>{switch(f){case"flee":return 100;case"heal":return 90;case"sleep":return 80;case"goToSleep":return 75;case"eat":return 65;case"build":case"chop":case"mine":case"harvest":return 40;case"resting":return 35;case"move":return 25;case"idle":return 15;case"seekTask":return 10;default:return 0}},d=y();if(d&&d.state!==t.state){const f=d.state==="flee"||d.state==="heal",m=l(t.state);(f||d.prio>m&&p)&&r(d.state,d.reason)}}switch(t.state){case"resting":{t.hideTimer=Math.max(0,(t.hideTimer||0)-i),t.hp=Math.min(100,t.hp+1.2*i);const d=(t.fatigue||0)<=E&&t.stateSince>=1;!e.isNight()&&!c&&(t.hurt||0)<=0&&(t.hideTimer||0)<=0&&d&&(e.leaveBuilding(t),t.safeTarget=null,t.safeTimer=0,r("seekTask","finished resting"));break}case"heal":{const l=e.buildings.filter(S=>S.kind==="infirmary"&&S.done);if(!l.length){r("seekTask","no infirmary");break}let d=l[0],f=z(t,e.centerOf(d));for(let S=1;S<l.length;S++){const w=z(t,e.centerOf(l[S]));w<f&&(f=w,d=l[S])}const m=e.centerOf(d),x=d.healRange||140,v=t.x>=d.x-8&&t.x<=d.x+d.w+8&&t.y>=d.y-8&&t.y<=d.y+d.h+8,M=Math.hypot(t.x-m.x,t.y-m.y);if(v&&e.tryEnterBuilding(t,d)){r("resting","entered infirmary");break}M<=x*.9?t.hp>=80&&r("seekTask","healed enough"):e.moveAlongPath(t,i,m,x*.9);break}case"eat":{const l=(e.RES.food||0)>0;if(Math.random()<.01&&console.log(`Colonist eating: food=${e.RES.food}, hunger=${t.hunger}, stateSince=${t.stateSince.toFixed(1)}`),!l){t.stateSince>1&&(t.hp=Math.max(0,t.hp-2.5*i)),console.log("NO FOOD AVAILABLE! Colonist will continue tasks or sleep."),r(e.isNight()?"sleep":"seekTask","no food available");break}const d=e.buildings.filter(x=>(x.kind==="hq"||x.kind==="warehouse"||x.kind==="stock")&&x.done);if(Math.random()<.01&&console.log(`Food buildings found: ${d.length}, buildings: ${d.map(x=>x.kind).join(", ")}`),d.length===0){console.log(`No food buildings found! Available buildings: ${e.buildings.filter(x=>x.done).map(x=>x.kind).join(", ")}`),t.stateSince>1&&(e.RES.food-=1,t.hunger=Math.max(0,(t.hunger||0)-60),t.hp=Math.min(100,t.hp+2.5),r("seekTask","ate without building"),console.log(`Colonist ate without building! Food remaining: ${e.RES.food}`));break}let f=null,m=1/0;for(const x of d){const v=e.centerOf(x),M=Math.hypot(t.x-v.x,t.y-v.y);M<m&&(m=M,f=x)}if(f){const x=e.centerOf(f),v=Math.max(f.w,f.h)/2+t.r+15;Math.random()<.01&&console.log(`Eating: distance=${m.toFixed(1)}, reachDist=${v.toFixed(1)}, stateSince=${t.stateSince.toFixed(1)}`),m<=v?t.stateSince>.6&&(console.log(`Colonist successfully ate! Food: ${e.RES.food}  ${e.RES.food-1}, hunger: ${t.hunger}  ${Math.max(0,(t.hunger||0)-60)}`),e.RES.food-=1,t.hunger=Math.max(0,(t.hunger||0)-60),t.hp=Math.min(100,t.hp+2.5),r("seekTask","finished eating")):e.moveAlongPath(t,i,x,v)}break}case"flee":{let l=null,d=null;const f=c?e.findSafeTurret(t,c):null;if(f){const m=f.range||120,x=e.centerOf(f),v=e.buildings.find(M=>M.kind==="house"&&M.done&&e.buildingHasSpace(M)&&z(e.centerOf(M),x)<m*m);v&&(d=v,l=e.centerOf(v))}if(!l){const m=e.buildings.find(x=>x.kind==="hq"&&e.buildingHasSpace(x));m&&(d=m,l=e.centerOf(m))}if(!l&&f&&(l=e.centerOf(f)),l){const m=l.x-t.x,x=l.y-t.y,v=Math.hypot(m,x),M=d?t.x>=d.x-8&&t.x<=d.x+d.w+8&&t.y>=d.y-8&&t.y<=d.y+d.h+8:!1;if(v<=20||M)if(d&&e.tryEnterBuilding(t,d))t.hideTimer=3,r("resting","hid from danger");else{const S=e.buildings.filter(w=>w.done&&e.buildingHasSpace(w)&&(w.kind==="house"||w.kind==="hq"));if(S.length){const w=S.sort((D,T)=>z(t,e.centerOf(D))-z(t,e.centerOf(T)))[0],k=e.centerOf(w);d=w,l=k}}else e.moveAlongPath(t,i,l,20)}else{const m=jt(Vt(t,c));t.direction=Math.atan2(m.y,m.x),t.x+=m.x*(t.speed+90)*i,t.y+=m.y*(t.speed+90)*i}c||r("seekTask","no more danger");break}case"sleep":{const l=e.buildings.filter(w=>w.kind==="house"&&w.done&&e.isProtectedByTurret(w)&&e.buildingHasSpace(w));if(!e.isNight()||l.length===0){r("seekTask","sleep canceled");break}let d=l[0],f=z(t,e.centerOf(d));for(let w=1;w<l.length;w++){const k=z(t,e.centerOf(l[w]));k<f&&(f=k,d=l[w])}let m=e.centerOf(d);const x=m.x-t.x,v=m.y-t.y,M=Math.hypot(x,v),S=t.x>=d.x-8&&t.x<=d.x+d.w+8&&t.y>=d.y-8&&t.y<=d.y+d.h+8;if(M<=20||S)if(e.tryEnterBuilding(t,d))t.hideTimer=0,r("resting","fell asleep");else{const w=e.buildings.filter(k=>k.done&&e.buildingHasSpace(k)&&(k.kind==="house"||k.kind==="hq")).sort((k,D)=>z(t,e.centerOf(k))-z(t,e.centerOf(D)))[0];if(w){const k=e.centerOf(w);d=w,m=k}else r("seekTask","no bed available")}else e.moveAlongPath(t,i,m,20);break}case"goToSleep":{const l=e.buildings.filter(w=>(w.kind==="house"||w.kind==="infirmary")&&w.done&&e.buildingHasSpace(w)),f=(t.fatigue||0)<=E&&t.stateSince>=2;if(l.length===0){t.stateSince>3&&(f?r("seekTask","no rest buildings, fatigue recovered"):t.fatigue=Math.max(0,(t.fatigue||0)-i*2));break}let m=l[0],x=z(t,e.centerOf(m));for(let w=1;w<l.length;w++){const k=z(t,e.centerOf(l[w]));k<x&&(x=k,m=l[w])}const v=e.centerOf(m),M=Math.hypot(v.x-t.x,v.y-t.y),S=t.x>=m.x-8&&t.x<=m.x+m.w+8&&t.y>=m.y-8&&t.y<=m.y+m.h+8;if(M<=20||S)if(e.tryEnterBuilding(t,m))t.hideTimer=0,r("resting","entered rest building");else{const w=l.filter(k=>k!==m&&e.buildingHasSpace(k)).sort((k,D)=>z(t,e.centerOf(k))-z(t,e.centerOf(D)))[0];w?(e.centerOf(w),e.clearPath(t)):f&&r("seekTask","no available rest buildings, fatigue recovered")}else e.moveAlongPath(t,i,v,20),f&&r("seekTask","fatigue recovered while searching for rest");break}case"seekTask":{if(e.isNight()){r("sleep","night time");break}if(!t.task||t.task==="idle"&&Math.random()<.05){const l=t.task;e.pickTask(t),l!==t.task&&Math.random()<.1&&console.log(`Colonist assigned task: ${t.task}, target:`,t.target)}switch(t.task){case"build":r("build","assigned build task");break;case"harvestFarm":r("harvest","assigned farm task");break;case"harvestWell":r("harvest","assigned well task");break;case"chop":r("chop","assigned chop task");break;case"mine":r("mine","assigned mine task");break;case"idle":default:t.target||(t.target={x:t.x+(Math.random()-.5)*160,y:t.y+(Math.random()-.5)*160}),r("idle","no tasks available");break}break}case"idle":{const l=t.target;if(!l){r("seekTask","no target");break}e.moveAlongPath(t,i,l,8)&&(t.task=null,t.target=null,e.clearPath(t),r("seekTask","reached target"));break}case"build":{const l=t.target;if(!l||l.done){e.releaseBuildReservation(t),t.task=null,t.target=null,e.clearPath(t),r("seekTask","building complete");break}const d={x:l.x+l.w/2,y:l.y+l.h/2};if(t.stateSince>15){console.log(`Build task timeout after ${t.stateSince.toFixed(1)}s, abandoning building`),e.releaseBuildReservation(t),t.task=null,t.target=null,e.clearPath(t),r("seekTask","build timeout");break}const f=Math.hypot(t.x-d.x,t.y-d.y);if(t.lastDistToNode||(t.lastDistToNode=f),t.stateSince>3&&Math.abs(f-t.lastDistToNode)<5){if(t.jitterScore=(t.jitterScore||0)+1,t.jitterScore>30){console.log("Build jittering detected, clearing path and retrying"),e.clearPath(t),t.jitterScore=0;const m=(Math.random()-.5)*20;d.x+=m,d.y+=m}}else t.jitterScore=0;if(t.lastDistToNode=f,e.moveAlongPath(t,i,d,12)&&(l.buildLeft-=25*i,l.buildLeft<=0)){if(l.done=!0,l.kind==="farm"&&(l.growth=0,l.ready=!1),ut(e,t.x,t.y,t.r)){const m=[0,Math.PI/2,Math.PI,3*Math.PI/2,Math.PI/4,3*Math.PI/4,5*Math.PI/4,7*Math.PI/4];let x=!1;for(const v of m){const M=Math.max(l.w,l.h)/2+t.r+10,S=l.x+l.w/2+Math.cos(v)*M,w=l.y+l.h/2+Math.sin(v)*M,k=Math.max(t.r,Math.min(S,I.w-t.r)),D=Math.max(t.r,Math.min(w,I.h-t.r));if(!ut(e,k,D,t.r)){t.x=k,t.y=D,x=!0,Math.random()<.1&&console.log(`Moved colonist to safety after building completion: (${t.x.toFixed(1)}, ${t.y.toFixed(1)})`);break}}if(!x){const v=e.buildings.find(M=>M.kind==="hq");v&&(t.x=v.x+v.w/2,t.y=v.y-30,console.log("Emergency teleport to HQ area after building completion"))}}e.msg(l.name?l.name+" complete":"Building complete"),e.rebuildNavGrid(),e.clearPath(t),e.releaseBuildReservation(t),t.task=null,t.target=null,r("seekTask","building complete")}break}case"harvest":{const l=t.target;if(!l){t.task=null,t.target=null,e.clearPath(t),r("seekTask","no harvest target");break}if(l.kind==="farm"&&!l.ready){t.task=null,t.target=null,e.clearPath(t),r("seekTask","farm not ready");break}const d={x:l.x+l.w/2,y:l.y+l.h/2};if(e.moveAlongPath(t,i,d,12)){if(l.kind==="farm"){l.ready=!1,l.growth=0;const f=e.addResource("food",10);f>0&&e.msg(`Farm harvested (+${f} food)`,"good")}else if(l.kind==="well"){const f=e.addResource("food",5);f>0&&e.msg(`Well collected (+${f} food)`,"good")}t.task=null,t.target=null,e.clearPath(t),r("seekTask","harvest complete")}break}case"chop":{const l=t.target;if(!l||l.hp<=0){l&&e.assignedTargets.has(l)&&e.assignedTargets.delete(l),t.task=null,t.target=null,e.clearPath(t),r("seekTask","tree gone");break}const d=l.x-t.x,f=l.y-t.y,m=Math.hypot(d,f),x=(l.r||12)+t.r+4,v=2.5;if(m<=x+v+.1){if(l.hp-=18*i,l.hp<=0){const M=e.addResource("wood",6);e.trees.splice(e.trees.indexOf(l),1),e.assignedTargets.has(l)&&e.assignedTargets.delete(l),M>0&&e.msg(`+${M} wood`,"good"),e.rebuildNavGrid(),t.task=null,t.target=null,e.clearPath(t),r("seekTask","chopped tree")}break}else e.moveAlongPath(t,i,l,x+v),t.lastDistToNode||(t.lastDistToNode=m),t.stateSince>5&&Math.abs(m-t.lastDistToNode)<2?(t.jitterScore=(t.jitterScore||0)+1,t.jitterScore>120&&(console.log("Chop task stuck, clearing path and retrying"),e.clearPath(t),t.jitterScore=0)):t.jitterScore=0,t.lastDistToNode=m;t.stateSince&&t.stateSince>20&&(console.log(`Chop task timeout after ${t.stateSince.toFixed(1)}s, abandoning tree`),e.assignedTargets.has(l)&&e.assignedTargets.delete(l),t.task=null,t.target=null,e.clearPath(t),r("seekTask","chop timeout"));break}case"mine":{const l=t.target;if(!l||l.hp<=0){l&&e.assignedTargets.has(l)&&e.assignedTargets.delete(l),t.task=null,t.target=null,e.clearPath(t),r("seekTask","rock gone");break}const d=l.x-t.x,f=l.y-t.y,m=Math.hypot(d,f),x=(l.r||12)+t.r+4,v=2.5;if(Math.random()<.01&&console.log(`Mining: distance=${m.toFixed(1)}, interact=${x}, colonist at (${t.x.toFixed(1)}, ${t.y.toFixed(1)}), rock at (${l.x.toFixed(1)}, ${l.y.toFixed(1)})`),m<=x+v+.1){if(l.hp-=16*i,l.hp<=0){const M=e.addResource("stone",5);e.rocks.splice(e.rocks.indexOf(l),1),e.assignedTargets.has(l)&&e.assignedTargets.delete(l),M>0&&e.msg(`+${M} stone`,"good"),e.rebuildNavGrid(),t.task=null,t.target=null,e.clearPath(t),r("seekTask","mined rock")}break}else e.moveAlongPath(t,i,l,x+v),Math.random()<.01&&console.log(`Moving toward rock: target=(${l.x.toFixed(1)}, ${l.y.toFixed(1)}), distance=${m.toFixed(1)}`);t.stateSince&&t.stateSince>15&&(console.log(`Colonist stuck mining for ${t.stateSince.toFixed(1)}s, abandoning`),e.assignedTargets.has(l)&&e.assignedTargets.delete(l),t.task=null,t.target=null,e.clearPath(t),r("seekTask","mine timeout"));break}}for(const l of e.colonists){if(l===t)continue;if((t.state==="mine"||t.state==="chop")&&t.target){const v=(t.target.r||12)+t.r+4;if(Math.hypot(t.x-t.target.x,t.y-t.target.y)<=v+2.5)continue}const d=t.x-l.x,f=t.y-l.y,m=d*d+f*f,x=(t.r+2)*(t.r+2);if(m>0&&m<x*4){const v=Math.sqrt(m)||1,M=(x*2-v)*.5;t.x+=d/v*M*i*6,t.y+=f/v*M*i*6}}}function bt(e,t,i,s){for(const n of e.buildings){if(n.kind==="hq"||n.kind==="path"||n.kind==="house"||n.kind==="farm"||!n.done)continue;const a=Math.max(n.x,Math.min(t,n.x+n.w)),h=Math.max(n.y,Math.min(i,n.y+n.h)),A=t-a,o=i-h;if(A*A+o*o<=s*s)return!0}return!1}function Ls(e,t,i){const s=e.buildings.find(r=>r.kind==="hq");let n=s,a=z(t,e.centerOf(s));for(const r of e.colonists){const g=z(t,r);g<a&&(a=g,n=r)}const h=n.w?e.centerOf(n):n,A=jt(Vt(h,t)),o=t.x+A.x*t.speed*i,c=t.y+A.y*t.speed*i;if(!bt(e,o,c,t.r))t.x=o,t.y=c;else{const r=-A.y,g=A.x,p=t.x+r*t.speed*i*.5,C=t.y+g*t.speed*i*.5;if(!bt(e,p,C,t.r))t.x=p,t.y=C;else{const E=t.x-r*t.speed*i*.5,y=t.y-g*t.speed*i*.5;bt(e,E,y,t.r)||(t.x=E,t.y=y)}}if(n.w){const r=n;e.pointInRect(t,r)&&(r.hp-=t.dmg*i),r.hp<=0&&(r.kind==="hq"?e.lose():(e.evictColonistsFrom(r),e.buildings.splice(e.buildings.indexOf(r),1),e.msg((r.name||r.kind)+" destroyed","warn")))}else{const r=n;Math.hypot(t.x-r.x,t.y-r.y)<t.r+8&&(r.hp-=t.dmg*i,r.hp<=0&&(r.alive=!1,e.colonists.splice(e.colonists.indexOf(r),1),e.msg("A colonist has fallen","warn")))}}class Ns{constructor(t){R(this,"canvas");R(this,"ctx");R(this,"DPR",1);R(this,"camera",{x:0,y:0,zoom:1});R(this,"uiScale",1);R(this,"baseFontSize",14);R(this,"isTouch",!1);R(this,"isActuallyTouchDevice",!1);R(this,"lastInputWasTouch",!1);R(this,"RES",{wood:0,stone:0,food:0});R(this,"BASE_STORAGE",200);R(this,"storageFullWarned",!1);R(this,"day",1);R(this,"tDay",0);R(this,"dayLength",180);R(this,"fastForward",1);R(this,"paused",!1);R(this,"prevIsNight",!1);R(this,"colonists",[]);R(this,"enemies",[]);R(this,"trees",[]);R(this,"rocks",[]);R(this,"buildings",[]);R(this,"bullets",[]);R(this,"messages",[]);R(this,"selectedBuild","house");R(this,"hotbar",["house","farm","turret","wall","stock","tent","warehouse","well","infirmary"]);R(this,"showBuildMenu",!1);R(this,"debug",{nav:!1,paths:!0,colonists:!1,forceDesktopMode:!1});R(this,"selColonist",null);R(this,"follow",!1);R(this,"keyState",{});R(this,"once",new Set);R(this,"mouse",{x:0,y:0,wx:0,wy:0,down:!1,rdown:!1});R(this,"lastPaintCell",null);R(this,"eraseDragStart",null);R(this,"menuRects",[]);R(this,"hotbarRects",[]);R(this,"pendingPlacement",null);R(this,"placeUIRects",[]);R(this,"colonistPanelRect",null);R(this,"colonistPanelCloseRect",null);R(this,"handleResize",()=>{const t=document.querySelector("header"),i=t?Math.ceil(t.getBoundingClientRect().height):48,s=window.innerWidth,n=window.innerHeight-i;this.canvas.style.width=s+"px",this.canvas.style.height=n+"px",this.canvas.width=Math.floor(s*this.DPR),this.canvas.height=Math.floor(n*this.DPR),this.calculateUIScale()});R(this,"screenToWorld",(t,i)=>({x:t*this.DPR/this.camera.zoom+this.camera.x,y:i*this.DPR/this.camera.zoom+this.camera.y}));R(this,"respawnTimer",0);R(this,"assignedTargets",new WeakSet);R(this,"buildReservations",new Map);R(this,"insideCounts",new Map);R(this,"last",performance.now());R(this,"frame",t=>{const i=Math.min(.033,(t-this.last)/1e3);this.last=t,this.update(i),this.draw(),requestAnimationFrame(this.frame)});R(this,"grid",$t());const i=t.getContext("2d");if(!i)throw new Error("no ctx");this.canvas=t,this.ctx=i,this.DPR=Math.max(1,Math.min(2,window.devicePixelRatio||1)),this.handleResize(),window.addEventListener("resize",()=>this.handleResize()),this.bindInput(),this.newGame(),this.rebuildNavGrid(),requestAnimationFrame(this.frame)}getStorageCapacity(){let t=this.BASE_STORAGE;for(const i of this.buildings)i.done&&i.storageBonus&&(t+=i.storageBonus);return t}getPopulationCap(){return(this.buildings.find(t=>t.kind==="hq")?3:0)+this.buildings.filter(t=>t.kind==="house"&&t.done).reduce((t,i)=>t+(i.popCap||0),0)}addResource(t,i){const s=this.RES.wood+this.RES.stone+this.RES.food,n=this.getStorageCapacity(),a=Math.max(0,n-s),h=Math.min(Math.floor(i),a);return h>0&&(this.RES[t]+=h),h===0&&i>0&&!this.storageFullWarned?(this.msg(`Storage full! Cannot store more ${String(t)}`,"warn"),this.storageFullWarned=!0):h>0&&(this.storageFullWarned=!1),h}calculateUIScale(){const s=this.canvas.width/this.DPR,n=this.canvas.height/this.DPR,a=s/1920,h=n/1080;let A=Math.min(a,h);const o="ontouchstart"in window||navigator.maxTouchPoints>0;this.isTouch=o,this.isActuallyTouchDevice=o&&s<900,o?s<600?A=Math.max(A*1.9,1.6):s<=900?A=Math.max(A*1.7,1.5):s<=1200?A=Math.max(A*1.5,1.35):A=Math.max(A*1.25,A):s<1200&&(A*=1.1),A=Math.max(1.1,Math.min(A,3)),this.uiScale=A,console.log(`UI Scale calculated: ${A.toFixed(2)} for ${s}x${n}`)}getScaledFont(t,i="500",s="system-ui,Segoe UI,Roboto"){return`${i} ${Math.round(t*this.uiScale)}px ${s}`}scale(t){return Math.round(t*this.uiScale)}bindInput(){const t=this.canvas;t.addEventListener("mousemove",i=>{const s=t.getBoundingClientRect();this.mouse.x=i.clientX-s.left,this.mouse.y=i.clientY-s.top;const n=this.screenToWorld(this.mouse.x,this.mouse.y);this.mouse.wx=n.x,this.mouse.wy=n.y,this.mouse.down&&(this.selectedBuild==="path"?this.paintPathAtMouse():this.selectedBuild==="wall"&&this.paintWallAtMouse())}),t.addEventListener("mousedown",i=>{if(i.preventDefault(),this.lastInputWasTouch=!1,i.button===0){if(this.mouse.down=!0,this.selColonist){const a=this.mouse.x*this.DPR,h=this.mouse.y*this.DPR;if(this.colonistPanelCloseRect){const A=this.colonistPanelCloseRect;if(a>=A.x&&a<=A.x+A.w&&h>=A.y&&h<=A.y+A.h){this.selColonist=null,this.follow=!1;return}}if(this.colonistPanelRect){const A=this.colonistPanelRect;if(!(a>=A.x&&a<=A.x+A.w&&h>=A.y&&h<=A.y+A.h)){this.selColonist=null,this.follow=!1;return}}}if(this.pendingPlacement){const a=this.mouse.x*this.DPR,h=this.mouse.y*this.DPR;if(this.placeUIRects.length){for(const b of this.placeUIRects)if(a>=b.x&&a<=b.x+b.w&&h>=b.y&&h<=b.y+b.h){b.id==="up"?this.nudgePending(0,-1):b.id==="down"?this.nudgePending(0,1):b.id==="left"?this.nudgePending(-1,0):b.id==="right"?this.nudgePending(1,0):b.id==="ok"?this.confirmPending():b.id==="cancel"&&this.cancelPending();return}}const A=this.pendingPlacement,o=L[A.key],r=((b,l)=>({x:(b-this.camera.x)*this.camera.zoom,y:(l-this.camera.y)*this.camera.zoom}))(A.x,A.y),g=o.size.w*u*this.camera.zoom,p=o.size.h*u*this.camera.zoom;if(a>=r.x&&a<=r.x+g&&h>=r.y&&h<=r.y+p){this.confirmPending();return}const C=Math.floor(this.mouse.wx/u)*u,E=Math.floor(this.mouse.wy/u)*u,y=o.size.w*u,B=o.size.h*u;A.x=V(C,0,I.w-y),A.y=V(E,0,I.h-B);return}const s=this.mouse.x*this.DPR,n=this.mouse.y*this.DPR;for(const a of this.hotbarRects)if(s>=a.x&&s<=a.x+a.w&&n>=a.y&&n<=a.y+a.h){const h=this.hotbar[a.index];h&&(this.selectedBuild=h,this.toast("Selected: "+L[h].name));return}if(this.showBuildMenu){this.handleBuildMenuClick();return}if(this.selectedBuild==="path")this.paintPathAtMouse(!0);else if(this.selectedBuild==="wall")this.paintWallAtMouse(!0);else{const a=this.findColonistAt(this.mouse.wx,this.mouse.wy);a?(this.selColonist=a,this.follow=!0):this.placeAtMouse()}}if(i.button===2){if(this.mouse.rdown=!0,this.showBuildMenu){this.showBuildMenu=!1;return}this.eraseDragStart={x:this.mouse.wx,y:this.mouse.wy}}}),t.addEventListener("mouseup",i=>{if(i.preventDefault(),i.button===0&&(this.mouse.down=!1,this.lastPaintCell=null),i.button===2){if(this.eraseDragStart){const s=Math.min(this.eraseDragStart.x,this.mouse.wx),n=Math.min(this.eraseDragStart.y,this.mouse.wy),a=Math.max(this.eraseDragStart.x,this.mouse.wx),h=Math.max(this.eraseDragStart.y,this.mouse.wy);(a-s)*(h-n)<12*12?this.cancelOrErase():this.eraseInRect({x:s,y:n,w:a-s,h:h-n})}this.mouse.rdown=!1,this.eraseDragStart=null}}),t.addEventListener("contextmenu",i=>i.preventDefault()),t.addEventListener("wheel",i=>{i.preventDefault();const s=i.deltaY<0?1.1:.9;this.camera.zoom=Math.max(.6,Math.min(2.2,this.camera.zoom*s))}),window.addEventListener("keydown",i=>{const s=i.key.toLowerCase();this.keyState[s]=!0,this.once.has(s)||this.once.add(s),(s===" "||s==="h"||s==="b"||s==="f"||s==="g"||s==="j"||s==="k"||s==="escape"||/^[1-9]$/.test(s)||s==="w"||s==="a"||s==="s"||s==="d"||s==="+"||s==="="||s==="-"||s==="_")&&i.preventDefault()}),window.addEventListener("keyup",i=>{this.keyState[i.key.toLowerCase()]=!1}),t.addEventListener("touchstart",i=>{if(i.preventDefault(),this.lastInputWasTouch=!0,this.isActuallyTouchDevice=!0,i.touches.length===1){const s=i.touches[0],n=t.getBoundingClientRect(),a=s.clientX-n.left,h=s.clientY-n.top;this.handleTapOrClickAtScreen(a,h)}}),t.addEventListener("touchmove",i=>{i.preventDefault(),this.lastInputWasTouch=!0}),t.addEventListener("touchend",i=>{i.preventDefault(),this.lastInputWasTouch=!0})}handleTapOrClickAtScreen(t,i){this.canvas.getBoundingClientRect(),this.mouse.x=t,this.mouse.y=i;const n=this.screenToWorld(this.mouse.x,this.mouse.y);if(this.mouse.wx=n.x,this.mouse.wy=n.y,this.pendingPlacement){const o=this.mouse.x*this.DPR,c=this.mouse.y*this.DPR;if(this.placeUIRects.length){for(const f of this.placeUIRects)if(o>=f.x&&o<=f.x+f.w&&c>=f.y&&c<=f.y+f.h){f.id==="up"?this.nudgePending(0,-1):f.id==="down"?this.nudgePending(0,1):f.id==="left"?this.nudgePending(-1,0):f.id==="right"?this.nudgePending(1,0):f.id==="ok"?this.confirmPending():f.id==="cancel"&&this.cancelPending();return}}const r=this.pendingPlacement,g=L[r.key],C=((f,m)=>({x:(f-this.camera.x)*this.camera.zoom,y:(m-this.camera.y)*this.camera.zoom}))(r.x,r.y),E=g.size.w*u*this.camera.zoom,y=g.size.h*u*this.camera.zoom;if(o>=C.x&&o<=C.x+E&&c>=C.y&&c<=C.y+y){this.confirmPending();return}const B=Math.floor(this.mouse.wx/u)*u,b=Math.floor(this.mouse.wy/u)*u,l=g.size.w*u,d=g.size.h*u;r.x=V(B,0,I.w-l),r.y=V(b,0,I.h-d);return}if(this.selColonist){const o=this.mouse.x*this.DPR,c=this.mouse.y*this.DPR;if(this.colonistPanelCloseRect){const r=this.colonistPanelCloseRect;if(o>=r.x&&o<=r.x+r.w&&c>=r.y&&c<=r.y+r.h){this.selColonist=null,this.follow=!1;return}}if(this.isTouch&&this.colonistPanelRect){const r=this.colonistPanelRect;if(!(o>=r.x&&o<=r.x+r.w&&c>=r.y&&c<=r.y+r.h)){this.selColonist=null,this.follow=!1;return}}}const a=this.mouse.x*this.DPR,h=this.mouse.y*this.DPR;for(const o of this.hotbarRects)if(a>=o.x&&a<=o.x+o.w&&h>=o.y&&h<=o.y+o.h){const c=this.hotbar[o.index];c&&(this.selectedBuild=c,this.toast("Selected: "+L[c].name));return}if(this.showBuildMenu){this.handleBuildMenuClick();return}if(this.selectedBuild==="path"){this.paintPathAtMouse(!0);return}if(this.selectedBuild==="wall"){this.paintWallAtMouse(!0);return}if(!this.debug.forceDesktopMode&&this.isActuallyTouchDevice&&this.lastInputWasTouch&&this.selectedBuild){this.placeAtMouse();return}const A=this.findColonistAt(this.mouse.wx,this.mouse.wy);if(A){this.selColonist=A,this.follow=!0;return}this.placeAtMouse()}findColonistAt(t,i){for(let s=this.colonists.length-1;s>=0;s--){const n=this.colonists[s];if(!n.alive||n.inside)continue;if((n.x-t)*(n.x-t)+(n.y-i)*(n.y-i)<=(n.r+2)*(n.r+2))return n}return null}msg(t,i="info"){this.messages.push({text:t,t:4,kind:i}),this.toast(t,1600)}toast(t,i=1400){const s=document.getElementById("toast");s&&(s.textContent=t,s.style.opacity="1",clearTimeout(s._t),s._t=setTimeout(()=>s.style.opacity="0",i))}scatter(){for(let t=0;t<220;t++){const i={x:O(80,I.w-80),y:O(80,I.h-80)};Math.hypot(i.x-Q.x,i.y-Q.y)<220||this.trees.push({x:i.x,y:i.y,r:12,hp:40,type:"tree"})}for(let t=0;t<140;t++){const i={x:O(80,I.w-80),y:O(80,I.h-80)};Math.hypot(i.x-Q.x,i.y-Q.y)<200||this.rocks.push({x:i.x,y:i.y,r:12,hp:50,type:"rock"})}this.rebuildNavGrid()}tryRespawn(t){if(this.respawnTimer+=t*this.fastForward,this.respawnTimer>=4){this.respawnTimer=0;const i=s=>{for(let n=0;n<6;n++){const a={x:O(60,I.w-60),y:O(60,I.h-60)};if(Math.hypot(a.x-Q.x,a.y-Q.y)<200)continue;let h=!0;for(const A of this.buildings)if(a.x>A.x-24&&a.x<A.x+A.w+24&&a.y>A.y-24&&a.y<A.y+A.h+24){h=!1;break}if(h){s==="tree"?this.trees.push({x:a.x,y:a.y,r:12,hp:40,type:"tree"}):this.rocks.push({x:a.x,y:a.y,r:12,hp:50,type:"rock"}),this.rebuildNavGrid();break}}};Math.random()<.5&&this.trees.length<260&&i("tree"),Math.random()<.35&&this.rocks.length<180&&i("rock")}}buildHQ(){const t={w:3*u,h:3*u},i={kind:"hq",name:"HQ",x:Q.x-t.w/2,y:Q.y-t.h/2,w:t.w,h:t.h,hp:600,done:!0,color:N.bld,size:{w:3,h:3},build:0,buildLeft:0};this.buildings.push(i),this.rebuildNavGrid()}newGame(){this.colonists.length=this.enemies.length=this.trees.length=this.rocks.length=this.buildings.length=this.bullets.length=this.messages.length=0,this.buildReservations.clear(),this.insideCounts.clear(),this.RES.wood=50,this.RES.stone=30,this.RES.food=20,this.day=1,this.tDay=0,this.fastForward=1,this.camera.zoom=1,this.camera.x=Q.x-this.canvas.width/(2*this.camera.zoom),this.camera.y=Q.y-this.canvas.height/(2*this.camera.zoom),this.buildHQ(),this.scatter();for(let t=0;t<3;t++){const i=O(0,Math.PI*2),s=80+O(-10,10);this.spawnColonist({x:Q.x+Math.cos(i)*s,y:Q.y+Math.sin(i)*s})}this.msg("Welcome! Build farms before night, then turrets.")}spawnColonist(t){const i=Tt(),s={x:t.x,y:t.y,r:8,hp:100,speed:50*i.stats.workSpeed,task:null,target:null,carrying:null,hunger:0,alive:!0,color:i.avatar.clothing,t:O(0,1),direction:0,profile:i};return this.colonists.push(s),this.msg(`${Cs(i)} has joined the colony!`,"good"),s}spawnEnemy(){const t=Kt(0,4);let i,s;t===0?(i=O(0,I.w),s=-80):t===1?(i=O(0,I.w),s=I.h+80):t===2?(i=-80,s=O(0,I.h)):(i=I.w+80,s=O(0,I.h));const n={x:i,y:s,r:9,hp:60+this.day*6,speed:48+this.day*2,dmg:8+this.day,target:null,color:N.enemy};return this.enemies.push(n),n}canPlace(t,i,s){const n={x:i,y:s,w:t.size.w*u,h:t.size.h*u};if(n.x<0||n.y<0||n.x+n.w>I.w||n.y+n.h>I.h)return!1;for(const h of this.buildings)if(!(n.x+n.w<=h.x||n.x>=h.x+h.w||n.y+n.h<=h.y||n.y>=h.y+h.h))return!1;const a=(h,A)=>{const o=Math.max(A.x,Math.min(h.x,A.x+A.w)),c=Math.max(A.y,Math.min(h.y,A.y+A.h)),r=h.x-o,g=h.y-c;return r*r+g*g<=h.r*h.r};for(const h of this.trees)if(a(h,n))return!1;for(const h of this.rocks)if(a(h,n))return!1;return!0}placeAtMouse(){if(this.paused)return;const t=this.selectedBuild;if(!(!t||!L[t])){if(!this.debug.forceDesktopMode&&this.isActuallyTouchDevice&&this.lastInputWasTouch){const s=Math.floor(this.mouse.wx/u)*u,n=Math.floor(this.mouse.wy/u)*u;this.pendingPlacement={key:t,x:s,y:n};return}this.tryPlaceNow(t,this.mouse.wx,this.mouse.wy)}}tryPlaceNow(t,i,s){const n=L[t];if(!n)return;const a=pt(t,i,s);if(!this.canPlace(a,a.x,a.y)){this.toast("Can't place here");return}if(!ft(this.RES,n.cost)){this.toast("Not enough resources");return}if(wt(this.RES,n.cost),a.kind!=="path")for(let h=this.buildings.length-1;h>=0;h--){const A=this.buildings[h];A.kind==="path"&&!(a.x+a.w<=A.x||a.x>=A.x+A.w||a.y+a.h<=A.y||a.y>=A.y+A.h)&&this.buildings.splice(h,1)}this.buildings.push(a),this.rebuildNavGrid()}nudgePending(t,i){if(!this.pendingPlacement)return;const s=L[this.pendingPlacement.key],n=this.pendingPlacement.x+t*u,a=this.pendingPlacement.y+i*u,h=s.size.w*u,A=s.size.h*u;this.pendingPlacement.x=V(n,0,I.w-h),this.pendingPlacement.y=V(a,0,I.h-A)}confirmPending(){if(!this.pendingPlacement)return;const{key:t,x:i,y:s}=this.pendingPlacement;this.pendingPlacement=null,this.tryPlaceNow(t,i+1,s+1)}cancelPending(){this.pendingPlacement=null}paintPathAtMouse(t=!1){const i=Math.floor(this.mouse.wx/u),s=Math.floor(this.mouse.wy/u);if(!t&&this.lastPaintCell&&this.lastPaintCell.gx===i&&this.lastPaintCell.gy===s)return;const n=(E,y)=>{const B=E*u+1,b=y*u+1,l=pt("path",B,b);!this.buildings.some(f=>f.kind==="path"&&f.x===l.x&&f.y===l.y)&&ft(this.RES,L.path.cost)&&(wt(this.RES,L.path.cost),this.buildings.push(l))};if(this.lastPaintCell==null){n(i,s),this.lastPaintCell={gx:i,gy:s},this.rebuildNavGrid();return}let a=this.lastPaintCell.gx,h=this.lastPaintCell.gy,A=i,o=s;const c=Math.abs(A-a),r=Math.abs(o-h),g=a<A?1:-1,p=h<o?1:-1;let C=c-r;for(;n(a,h),!(a===A&&h===o);){const E=2*C;E>-r&&(C-=r,a+=g),E<c&&(C+=c,h+=p)}this.lastPaintCell={gx:i,gy:s},this.rebuildNavGrid()}paintWallAtMouse(t=!1){const i=Math.floor(this.mouse.wx/u),s=Math.floor(this.mouse.wy/u);if(!t&&this.lastPaintCell&&this.lastPaintCell.gx===i&&this.lastPaintCell.gy===s)return;const n=(E,y)=>{const B=E*u+1,b=y*u+1,l=pt("wall",B,b);this.buildings.some(f=>f.kind==="wall"&&f.x===l.x&&f.y===l.y)||ft(this.RES,L.wall.cost)&&this.canPlace(l,l.x,l.y)&&(wt(this.RES,L.wall.cost),this.buildings.push(l))};if(this.lastPaintCell==null){n(i,s),this.lastPaintCell={gx:i,gy:s},this.rebuildNavGrid();return}let a=this.lastPaintCell.gx,h=this.lastPaintCell.gy,A=i,o=s;const c=Math.abs(A-a),r=Math.abs(o-h),g=a<A?1:-1,p=h<o?1:-1;let C=c-r;for(;n(a,h),!(a===A&&h===o);){const E=2*C;E>-r&&(C-=r,a+=g),E<c&&(C+=c,h+=p)}this.lastPaintCell={gx:i,gy:s},this.rebuildNavGrid()}eraseInRect(t){const i=this.buildings.length;for(let n=this.buildings.length-1;n>=0;n--){const a=this.buildings[n];if(a.kind==="hq")continue;!(t.x+t.w<=a.x||t.x>=a.x+a.w||t.y+t.h<=a.y||t.y>=a.y+a.h)&&(this.evictColonistsFrom(a),this.buildings.splice(n,1),this.buildReservations.delete(a),this.insideCounts.delete(a))}const s=i-this.buildings.length;s>0&&(this.msg(`Removed ${s} structure(s)`),this.rebuildNavGrid())}cancelOrErase(){const t={x:this.mouse.wx,y:this.mouse.wy};for(let i=this.buildings.length-1;i>=0;i--){const s=this.buildings[i];if(s.kind!=="hq"&&t.x>=s.x&&t.x<=s.x+s.w&&t.y>=s.y&&t.y<=s.y+s.h){this.evictColonistsFrom(s),this.buildings.splice(i,1),this.msg("Building removed"),this.rebuildNavGrid();return}}this.selectedBuild=null,this.toast("Build canceled")}evictColonistsFrom(t){const i=t.x+t.w/2,s=t.y+t.h/2;for(const n of this.colonists)if(n.inside===t){this.leaveBuilding(n),n.safeTarget=null,n.safeTimer=0;const a=Math.random()*Math.PI*2,h=(t.w/2+10)*Math.cos(a),A=(t.h/2+10)*Math.sin(a);n.x=V(i+h,0,I.w),n.y=V(s+A,0,I.h)}}buildingCapacity(t){return t.kind==="hq"?8:t.kind==="house"?3:1}buildingHasSpace(t){const i=this.buildingCapacity(t);return(this.insideCounts.get(t)||0)<i}tryEnterBuilding(t,i){return!i.done||!this.buildingHasSpace(i)?!1:(this.insideCounts.set(i,(this.insideCounts.get(i)||0)+1),t.inside=i,t.hideTimer=0,!0)}leaveBuilding(t){const i=t.inside;if(i){const s=(this.insideCounts.get(i)||1)-1;s<=0?this.insideCounts.delete(i):this.insideCounts.set(i,s)}t.inside=null,t.hideTimer=0}getMaxCrew(t){const i=t.w/u*(t.h/u);return i<=1?1:i<=4?2:3}releaseBuildReservation(t){if(!t.reservedBuildFor)return;const i=t.reservedBuildFor,s=(this.buildReservations.get(i)||1)-1;s<=0?this.buildReservations.delete(i):this.buildReservations.set(i,s),t.reservedBuildFor=null}clearPath(t){t.path=void 0,t.pathIndex=void 0,t.repath=0}setTask(t,i,s){if(t.target&&t.target.type&&this.assignedTargets.has(t.target)&&this.assignedTargets.delete(t.target),t.reservedBuildFor&&t.reservedBuildFor!==s&&this.releaseBuildReservation(t),t.task=i,t.target=s,this.clearPath(t),s&&s.type&&(s.type==="tree"||s.type==="rock")&&this.assignedTargets.add(s),i==="build"&&s&&s.w!=null&&!t.reservedBuildFor){const n=s,a=this.buildReservations.get(n)||0,h=this.getMaxCrew(n);a<h&&(this.buildReservations.set(n,a+1),t.reservedBuildFor=n)}}pickTask(t){let i=null,s=1/0;for(const A of this.buildings){if(A.done||(this.buildReservations.get(A)||0)>=this.getMaxCrew(A))continue;const c=z({x:t.x,y:t.y},this.centerOf(A));c<s&&(s=c,i=A)}if(i){this.setTask(t,"build",i);return}const n=this.buildings.find(A=>A.kind==="farm"&&A.done&&A.ready);if(n){this.setTask(t,"harvestFarm",n);return}if(Math.random()<.1){const A=this.buildings.find(o=>o.kind==="well"&&o.done);if(A){this.setTask(t,"harvestWell",A);return}}if(this.RES.food<Math.max(4,this.colonists.length*2)){const A=this.nearestCircle({x:t.x,y:t.y},this.trees.filter(o=>!this.assignedTargets.has(o)));if(A){this.setTask(t,"chop",A);return}}const a=this.trees.filter(A=>!this.assignedTargets.has(A)),h=this.rocks.filter(A=>!this.assignedTargets.has(A));if(Math.random()<.05&&console.log(`Task assignment: wood=${this.RES.wood}, stone=${this.RES.stone}, trees=${a.length}, rocks=${h.length}`),this.RES.wood<this.RES.stone){const A=this.nearestCircle({x:t.x,y:t.y},a);if(A){Math.random()<.1&&console.log("Assigning chop task"),this.setTask(t,"chop",A);return}else Math.random()<.1&&console.log("No trees available for chopping")}else{const A=this.nearestCircle({x:t.x,y:t.y},h);if(A){Math.random()<.1&&console.log("Assigning mine task to rock at:",A),this.setTask(t,"mine",A);return}else Math.random()<.1&&console.log("No rocks available for mining")}Math.random()<.1&&console.log("Assigning idle task"),this.setTask(t,"idle",{x:t.x+O(-80,80),y:t.y+O(-80,80)})}nearestCircle(t,i){let s=null,n=1e9;for(const a of i){const h=z(t,a);h<n&&(n=h,s=a)}return s}moveAlongPath(t,i,s,n=10){t.repath=(t.repath||0)-i;const a=s&&(!t.pathGoal||Math.hypot(t.pathGoal.x-s.x,t.pathGoal.y-s.y)>24);if(s&&(a||t.repath==null||t.repath<=0||!t.path||t.pathIndex==null)){const E=this.computePath(t.x,t.y,s.x,s.y);if(E&&E.length){if(t.path=E,t.pathIndex=0,t.pathGoal={x:s.x,y:s.y},Math.random()<.1){let y=0;for(const B of E){const b=Math.floor(B.x/u),l=Math.floor(B.y/u);if(b>=0&&l>=0&&b<this.grid.cols&&l<this.grid.rows){const d=l*this.grid.cols+b;this.grid.cost[d]<=.7&&y++}}y>0&&console.log(`Computed path with ${y}/${E.length} low-cost tiles`)}}else Math.random()<.05&&console.log(`Failed to compute path from (${t.x.toFixed(1)}, ${t.y.toFixed(1)}) to (${s.x.toFixed(1)}, ${s.y.toFixed(1)})`);t.repath=5}if(!t.path||t.pathIndex==null||t.pathIndex>=t.path.length)return s?Math.hypot(t.x-s.x,t.y-s.y)<=n:!1;const h=t.path[t.pathIndex],A=h.x-t.x,o=h.y-t.y;let c=Math.hypot(A,o);const r=15,g=6;let p=t.speed*(t.fatigueSlow||1);{const E=Math.floor(t.x/u),y=Math.floor(t.y/u);if(E>=0&&y>=0&&E<this.grid.cols&&y<this.grid.rows){const b=y*this.grid.cols+E;this.grid.cost[b]<=.7&&(p+=25,Math.random()<.01&&console.log(`Colonist at (${t.x.toFixed(1)}, ${t.y.toFixed(1)}) on path tile - cost: ${this.grid.cost[b]}, speed: ${p}`))}}const C=p*i;if(c<=Math.max(r,C))return t.x=h.x,t.y=h.y,t.pathIndex++,t.jitterScore=0,t.jitterWindow=0,t.lastDistToNode=void 0,t.lastDistSign=void 0,t.pathIndex>=t.path.length?(t.path=void 0,t.pathIndex=void 0,s?Math.hypot(t.x-s.x,t.y-s.y)<=n:!0):!1;if(t.jitterWindow=(t.jitterWindow||0)+i,t.lastDistToNode!=null){const E=c-t.lastDistToNode,y=E===0?0:E>0?1:-1,B=t.lastDistSign??y;y!==0&&B!==0&&y!==B&&c<r+15?t.jitterScore=(t.jitterScore||0)+1:t.jitterScore=Math.max(0,(t.jitterScore||0)-1),t.lastDistSign=y}if(t.lastDistToNode=c,(t.jitterScore||0)>=8||(t.jitterWindow||0)>3){if(c<r+g)t.pathIndex++;else if(s){const E=this.computePath(t.x,t.y,s.x,s.y);E&&E.length&&(t.path=E,t.pathIndex=0)}if(t.jitterScore=0,t.jitterWindow=0,t.lastDistToNode=void 0,t.lastDistSign=void 0,!t.path||t.pathIndex==null||t.pathIndex>=t.path.length)return!1}return c>1&&(t.direction=Math.atan2(o,A)),t.x=Math.max(0,Math.min(t.x+A/(c||1)*C,I.w)),t.y=Math.max(0,Math.min(t.y+o/(c||1)*C,I.h)),!1}findSafeTurret(t,i){let s=null,n=1/0;for(const a of this.buildings){if(a.kind!=="turret"||!a.done)continue;const h=this.centerOf(a),A=Math.hypot(t.x-h.x,t.y-h.y),o=Math.hypot(i.x-h.x,i.y-h.y),c=a.range||160,r=o<c?100:0,g=A+r;g<n&&(n=g,s=a)}return s}isProtectedByTurret(t){const i=this.centerOf(t);for(const s of this.buildings){if(s.kind!=="turret"||!s.done)continue;const n=s.range||120,a=this.centerOf(s);if(z(i,a)<n*n)return!0}return!1}centerOf(t){return{x:t.x+t.w/2,y:t.y+t.h/2}}pointInRect(t,i){return t.x>=i.x&&t.x<=i.x+i.w&&t.y>=i.y&&t.y<=i.y+i.h}updateTurret(t,i){if(!("range"in t)||!t.range)return;t.cooldown=Math.max(0,(t.cooldown||0)-i);let s=null,n=1e9;const a=this.centerOf(t);for(const h of this.enemies){const A=z(h,a);A<t.range*t.range&&A<n&&(n=A,s=h)}s&&(t.cooldown||0)<=0&&(s.hp-=t.dps||0,this.bullets.push({x:a.x,y:a.y,tx:s.x,ty:s.y,t:.12}),t.cooldown=t.fireRate||.6)}isNight(){return this.tDay>=Rt.start||this.tDay<=Rt.end}spawnWave(){const t=4+Math.floor(this.day*1.3);for(let i=0;i<t;i++)this.spawnEnemy();this.msg(`Night ${this.day}: Enemies incoming!`,"warn")}nextDay(){this.day++,this.waveSpawnedForDay=!1;let t=0;for(let n=0;n<this.colonists.length;n++)this.RES.food>0?this.RES.food-=1:(t++,this.colonists[n]&&(this.colonists[n].alive=!1));t>0&&(this.colonists=this.colonists.filter(n=>n.alive),this.msg(`${t} colonist(s) starved`,"bad"));for(const n of this.buildings)n.kind==="farm"&&n.done&&(n.growth=(n.growth||0)+.5,(n.growth||0)>=(n.growTime||1)&&(n.ready=!0));const i=this.buildings.find(n=>n.kind==="tent"&&n.done),s=(this.buildings.find(n=>n.kind==="hq")?3:0)+this.buildings.filter(n=>n.kind==="house"&&n.done).reduce((n,a)=>n+(a.popCap||0),0);i&&this.colonists.length<s&&this.RES.food>=15&&(this.RES.food-=15,this.spawnColonist({x:Q.x+O(-20,20),y:Q.y+O(-20,20)}),this.msg("A new colonist joined! (-15 food)","info")),this.day>20&&this.win()}dayTick(t){const i=this.isNight();this.tDay+=t*this.fastForward/this.dayLength,this.tDay>=1&&(this.tDay-=1,this.nextDay());const s=this.isNight();!i&&s&&this.spawnWave(),this.prevIsNight=s;for(let n=this.colonists.length-1;n>=0;n--){const a=this.colonists[n];if(!a.alive){this.colonists.splice(n,1);continue}a.profile||(a.profile=Tt(),a.color=a.profile.avatar.clothing,a.speed=50*a.profile.stats.workSpeed),a.hp<=0&&(a.alive=!1)}}keyPressed(t){return this.once.has(t)?(this.once.delete(t),!0):!1}update(t){if(this.keyPressed(" ")){this.paused=!this.paused;const s=document.getElementById("btnPause");s&&(s.textContent=this.paused?"Resume":"Pause")}if(this.keyPressed("h")){const s=document.getElementById("help");s&&(s.hidden=!s.hidden)}this.keyPressed("b")&&(this.showBuildMenu=!this.showBuildMenu),this.keyPressed("g")&&(this.debug.nav=!this.debug.nav,this.toast(this.debug.nav?"Debug: nav ON":"Debug: nav OFF")),this.keyPressed("j")&&(this.debug.colonists=!this.debug.colonists,this.toast(this.debug.colonists?"Debug: colonists ON":"Debug: colonists OFF")),this.keyPressed("k")&&(this.debug.forceDesktopMode=!this.debug.forceDesktopMode,this.toast(this.debug.forceDesktopMode?"Debug: Force Desktop Mode ON":"Debug: Force Desktop Mode OFF")),this.keyPressed("escape")&&(this.showBuildMenu?this.showBuildMenu=!1:(this.selectedBuild=null,this.toast("Build canceled"),this.selColonist=null,this.follow=!1)),this.keyPressed("f")&&(this.fastForward=this.fastForward===1?6:1,this.toast(this.fastForward>1?"Fast-forward ON":"Fast-forward OFF"));const i=360*t/this.camera.zoom;if(this.keyState.w&&(this.camera.y-=i),this.keyState.s&&(this.camera.y+=i),this.keyState.a&&(this.camera.x-=i),this.keyState.d&&(this.camera.x+=i),(this.keyState["+"]||this.keyState["="])&&(this.camera.zoom=Math.max(.6,Math.min(2.2,this.camera.zoom*1.02))),(this.keyState["-"]||this.keyState._)&&(this.camera.zoom=Math.max(.6,Math.min(2.2,this.camera.zoom/1.02))),!this.paused){for(const[s,n]of this.hotbar.entries())this.keyPressed(String(s+1))&&(this.selectedBuild=n,this.toast("Selected: "+L[n].name));if(this.follow&&this.selColonist){const s=this.selColonist,n=this.canvas.width/this.camera.zoom,a=this.canvas.height/this.camera.zoom;this.camera.x=V(s.x-n/2,0,Math.max(0,I.w-n)),this.camera.y=V(s.y-a/2,0,Math.max(0,I.h-a))}this.dayTick(t);for(const s of this.colonists)s.alive&&zs(this,s,t*this.fastForward);for(let s=this.enemies.length-1;s>=0;s--){const n=this.enemies[s];Ls(this,n,t*this.fastForward),n.hp<=0&&(this.enemies.splice(s,1),Math.random()<.5&&(this.RES.food+=1))}for(const s of this.buildings){if(s.kind==="turret"&&s.done&&this.updateTurret(s,t*this.fastForward),s.healRate&&s.done){const n=s.healRate,a=s.healRange||120,h=this.centerOf(s);for(const A of this.colonists){if(!A.alive)continue;(A.x-h.x)*(A.x-h.x)+(A.y-h.y)*(A.y-h.y)<a*a&&(A.hp=Math.min(100,A.hp+n*t*this.fastForward))}}if(s.kind==="tent"&&s.done&&(s.cooldown=(s.cooldown||0)-t*this.fastForward,s.cooldown<=0&&this.RES.food>=15)){const n=this.getPopulationCap(),a=this.colonists.filter(c=>c.alive).length,h=Math.max(25,a*8),A=15,o=h+A;if(this.colonists.length<n&&this.RES.food>=o){this.RES.food-=15;const c=this.centerOf(s);this.spawnColonist({x:c.x+(Math.random()-.5)*40,y:c.y+(Math.random()-.5)*40}),this.msg("Recruit tent attracted a new colonist! (-15 food)","good"),s.cooldown=60}else this.RES.food<o&&this.RES.food>=15&&Math.random()<.02&&this.msg(`Recruitment halted: need ${o} food (${h} reserves + ${A} cost), have ${this.RES.food}`,"warn")}}this.tryRespawn(t);for(let s=this.bullets.length-1;s>=0;s--){const n=this.bullets[s];n.t-=t,n.t<=0&&this.bullets.splice(s,1)}for(let s=this.messages.length-1;s>=0;s--){const n=this.messages[s];n.t-=t,n.t<=0&&this.messages.splice(s,1)}}}draw(){var A;const{ctx:t}=this;Es(t,this.canvas),t.save(),Ms(t,this.camera),Rs(t);for(const o of this.trees)Pt(t,o.x,o.y,o.r,N.tree);for(const o of this.rocks)Pt(t,o.x,o.y,o.r,N.rock);for(const o of this.buildings)if(Ds(t,o),(o.kind==="house"||o.kind==="hq")&&this.buildings.some(r=>r.kind==="turret"&&r.done&&z(this.centerOf(o),this.centerOf(r))<(r.range||120)*(r.range||120))){const r=this.centerOf(o);Is(t,r.x,o.y-8,12,"#60a5fa")}{const o=new Map;for(const c of this.colonists)c.inside&&c.alive&&o.set(c.inside,(o.get(c.inside)||0)+1);t.save();for(const[c,r]of o){if(!r)continue;const g=8,p=Math.min(r,g),C=10,E=4,y=p*(C+E)-E;let B=c.x+c.w/2-y/2+C/2;const b=c.y+c.h+8,l=this.colonists.filter(d=>d.inside===c);for(let d=0;d<p;d++){const f=l[d%l.length],m=f?f.hp:100,x=m>66?"#22c55e":m>33?"#eab308":"#ef4444";Ss(t,B+d*(C+E),b,10,x)}if(r>g){const d=r-g,f=B+p*(C+E)+6;t.fillStyle="#dbeafe",t.font="600 11px system-ui,Segoe UI,Roboto",t.fillText("+"+d,f,b+4)}}t.restore()}for(const o of this.colonists)!o.inside&&o.alive&&Ft(t,o.x,o.y,o,o.r,this.selColonist===o);if(this.debug.nav){t.save(),t.globalAlpha=.18,t.fillStyle="#ef4444";for(let o=0;o<this.grid.rows;o++)for(let c=0;c<this.grid.cols;c++)this.grid.solid[o*this.grid.cols+c]&&t.fillRect(c*u,o*u,u,u);t.restore(),t.save(),t.globalAlpha=.12;for(let o=0;o<this.grid.rows;o++)for(let c=0;c<this.grid.cols;c++){const r=o*this.grid.cols+c;if(!this.grid.solid[r]){const g=this.grid.cost[r];g<=.7?t.fillStyle="#22c55e":g<=1?t.fillStyle="#eab308":t.fillStyle="#f97316",t.fillRect(c*u,o*u,u,u)}}t.restore(),t.save(),t.strokeStyle="#22d3ee",t.lineWidth=2;for(const o of this.colonists)if(!(!o.alive||!o.path||!o.path.length)){t.beginPath(),t.moveTo(o.x,o.y);for(let c=o.pathIndex??0;c<o.path.length;c++){const r=o.path[c];t.lineTo(r.x,r.y)}if(t.stroke(),o.pathIndex!=null&&o.pathIndex<o.path.length){const c=o.path[o.pathIndex];t.save(),t.fillStyle="#fbbf24",t.beginPath(),t.arc(c.x,c.y,6,0,Math.PI*2),t.fill(),t.restore()}}t.restore(),t.save(),t.font="11px monospace",t.fillStyle="#ffffff",t.strokeStyle="#000000",t.lineWidth=2;for(const o of this.colonists){if(o.inside||!o.alive)continue;const c=`${o.task||o.state||"idle"}`,r=o.x-20,g=o.y-o.r-8;if(t.strokeText(c,r,g),t.fillText(c,r,g),o.target&&o.target.x!=null){const p=o.target;t.save(),t.strokeStyle="#94a3b8",t.lineWidth=1,t.setLineDash([3,3]),t.beginPath(),t.moveTo(o.x,o.y),t.lineTo(p.x,p.y),t.stroke(),t.setLineDash([]),t.restore()}}t.restore()}if(this.debug.colonists){t.save(),t.font="10px monospace",t.lineWidth=1;for(const o of this.colonists){if(o.inside||!o.alive)continue;const c=o.x-35;let r=o.y-o.r-45;const g=12,p=[`State: ${o.state||"unknown"}`,`Task: ${o.task||"none"}`,`HP: ${Math.floor(o.hp||0)}`,`Pos: ${Math.floor(o.x)},${Math.floor(o.y)}`,`Speed: ${(()=>{let y=o.speed||0;o.fatigueSlow&&(y*=o.fatigueSlow);const B=Math.floor(o.x/u),b=Math.floor(o.y/u);if(B>=0&&b>=0&&B<this.grid.cols&&b<this.grid.rows){const l=b*this.grid.cols+B;this.grid.cost[l]<=.7&&(y+=25)}return y.toFixed(1)})()}`,`Stuck: ${o.stuckTimer?o.stuckTimer.toFixed(1)+"s":"no"}`,`Since: ${o.stateSince?o.stateSince.toFixed(1)+"s":"0s"}`,`PathIdx: ${o.pathIndex??"none"}/${((A=o.path)==null?void 0:A.length)??0}`,`Jitter: ${o.jitterScore??0}`,`Repath: ${o.repath?o.repath.toFixed(1)+"s":"none"}`];if(o.target){const y=o.target;y.x!=null&&(p.push(`Target: ${Math.floor(y.x)},${Math.floor(y.y)}`),y.type&&p.push(`Type: ${y.type}`),y.hp!=null&&p.push(`T.HP: ${Math.floor(y.hp)}`))}const C=140,E=p.length*g+4;t.fillStyle="rgba(0, 0, 0, 0.8)",t.fillRect(c-2,r-g+2,C,E),t.strokeStyle="#444",t.strokeRect(c-2,r-g+2,C,E);for(let y=0;y<p.length;y++){const B=p[y];t.fillStyle="#ffffff",t.strokeStyle="#000000",t.lineWidth=2,t.strokeText(B,c,r+y*g),t.fillText(B,c,r+y*g)}if(t.strokeStyle="#ff6b6b",t.lineWidth=1,t.globalAlpha=.3,t.beginPath(),t.arc(o.x,o.y,o.r,0,Math.PI*2),t.stroke(),t.globalAlpha=1,o.target&&o.task&&(o.task==="chop"||o.task==="mine")){const y=o.target;if(y.x!=null&&y.r!=null){const B=y.r+o.r+4+2.5;t.strokeStyle="#22c55e",t.lineWidth=2,t.globalAlpha=.4,t.beginPath(),t.arc(y.x,y.y,B,0,Math.PI*2),t.stroke(),t.globalAlpha=1;const b=Math.hypot(o.x-y.x,o.y-y.y);t.fillStyle=b<=B?"#22c55e":"#ff6b6b",t.font="12px monospace";const l=(o.x+y.x)/2,d=(o.y+y.y)/2;t.strokeText(`${b.toFixed(1)}`,l-15,d),t.fillText(`${b.toFixed(1)}`,l-15,d)}}}t.restore()}for(const o of this.enemies)ks(t,o.x,o.y,o.r+2,3,N.enemy,-Math.PI/2);if(Ts(t,this.bullets),this.isNight()&&(t.fillStyle="rgba(6,10,18, 0.58)",t.fillRect(0,0,I.w,I.h)),this.selectedBuild&&!this.pendingPlacement){const o=L[this.selectedBuild],c=Math.floor(this.mouse.wx/u)*u,r=Math.floor(this.mouse.wy/u)*u,g=this.canPlace({...o,size:o.size},c,r)&&ft(this.RES,o.cost);t.globalAlpha=.6,t.fillStyle=g?N.ghost:"#ff6b6b88",t.fillRect(c,r,o.size.w*u,o.size.h*u),t.globalAlpha=1}if(this.mouse.rdown&&this.eraseDragStart){const o=Math.min(this.eraseDragStart.x,this.mouse.wx),c=Math.min(this.eraseDragStart.y,this.mouse.wy),r=Math.abs(this.mouse.wx-this.eraseDragStart.x),g=Math.abs(this.mouse.wy-this.eraseDragStart.y);t.save(),t.globalAlpha=.18,t.fillStyle="#ef4444",t.fillRect(o,c,r,g),t.globalAlpha=1,t.strokeStyle="#ef4444",t.setLineDash([6,4]),t.strokeRect(o+.5,c+.5,r-1,g-1),t.setLineDash([]),t.restore()}t.restore();const i=this.getPopulationCap(),s=this.colonists.filter(o=>!!o.inside).length,n=this.RES.wood+this.RES.stone+this.RES.food,a=this.getStorageCapacity(),h=this.hotbar.map(o=>({key:String(o),name:L[o].name,cost:this.costText(L[o].cost||{}),selected:this.selectedBuild===o}));Ps(this.ctx,this.canvas,{res:this.RES,colonists:this.colonists.filter(o=>o.alive).length,cap:i,hiding:s,day:this.day,tDay:this.tDay,isNight:this.isNight(),hotbar:h,messages:this.messages,storage:{used:n,max:a}},this),this.selColonist?this.drawColonistProfile(this.selColonist):this.colonistPanelRect=this.colonistPanelCloseRect=null,this.showBuildMenu&&this.drawBuildMenu(),this.pendingPlacement&&this.drawPlacementUI()}costText(t){const i=[];return t.wood&&i.push(`${t.wood}w`),t.stone&&i.push(`${t.stone}s`),t.food&&i.push(`${t.food}f`),i.join(" ")}win(){this.paused=!0,this.msg("You survived! Day 20 reached.","good"),alert("You survived to Day 20  victory!")}lose(){this.paused=!0,this.msg("HQ destroyed. Colony fell.","bad"),alert("Your HQ was destroyed. Game over.")}rebuildNavGrid(){te(this.grid);for(const t of this.buildings)if(t.kind!=="hq"&&t.kind!=="path"&&t.kind!=="house"&&t.kind!=="farm"&&ee(this.grid,t.x,t.y,t.w,t.h),t.kind==="path"&&Dt(this.grid,t.x,t.y,t.w,t.h,"BASIC_PATH"),t.kind==="house"&&t.done){const i=t.x+t.w/2-u/2,s=t.y+t.h;Dt(this.grid,i,s,u,u,"FAST_ROAD")}for(const t of this.trees)St(this.grid,t.x,t.y,t.r);for(const t of this.rocks)St(this.grid,t.x,t.y,t.r)}computePath(t,i,s,n){return ae(this.grid,t,i,s,n)}cellIndexAt(t,i){const s=Math.floor(t/u),n=Math.floor(i/u);return s<0||n<0||s>=this.grid.cols||n>=this.grid.rows?-1:n*this.grid.cols+s}isBlocked(t,i){const s=this.cellIndexAt(t,i);return s<0?!0:!!this.grid.solid[s]}isWithinInteractionRange(t,i,s,n){const a=t-s.x,h=i-s.y;return Math.hypot(a,h)<=s.r+n}bestApproachToCircle(t,i,s){const a=new Set,h=[],A=Math.max(6,i.r+s-2),o=Math.atan2(i.y-t.y,i.x-t.x),c=[];for(let y=0;y<16;y++){const B=(y%2?1:-1)*Math.ceil(y/2);c.push(B/16*Math.PI*2+o)}for(const y of c){const B=i.x+Math.cos(y)*A,b=i.y+Math.sin(y)*A,l=Math.floor(B/u),d=Math.floor(b/u);if(l<0||d<0||l>=this.grid.cols||d>=this.grid.rows)continue;const f=l*u+u/2,m=d*u+u/2,x=`${l},${d}`;a.has(x)||(a.add(x),!this.isBlocked(f,m)&&h.push({x:f,y:m,gx:l,gy:d}))}if(h.length===0){const y=Math.atan2(t.y-i.y,t.x-i.x),B=i.r+s,b=Math.max(4,u*.33);for(let l=B;l>=Math.max(i.r+2,B-6*u);l-=b){const d=i.x+Math.cos(y)*l,f=i.y+Math.sin(y)*l,m=Math.floor(d/u),x=Math.floor(f/u);if(m<0||x<0||m>=this.grid.cols||x>=this.grid.rows)continue;const v=m*u+u/2,M=x*u+u/2;if(this.isBlocked(v,M))continue;if(this.computePath(t.x,t.y,v,M))return{x:v,y:M}}return{x:i.x+Math.cos(y)*B,y:i.y+Math.sin(y)*B}}let r=null,g=1/0,p=1/0,C=0;const E=8;for(const y of h){if(C>=E)break;const B=this.computePath(t.x,t.y,y.x,y.y);if(!B||B.length===0)continue;C++;let b=0;for(const d of B){const f=this.cellIndexAt(d.x,d.y);if(f<0){b=1/0;break}b+=this.grid.cost[f]||1}if(b===1/0)continue;const l=this.cellIndexAt(y.x,y.y);if(l>=0&&this.grid.cost[l]<=.7&&(b-=.05),B.length<=3&&b<=2)return Math.random()<.02&&console.log(`Early-out: great path found with length ${B.length} and cost ${b.toFixed(3)}`),y;(b<p||b===p&&B.length<g)&&(p=b,g=B.length,r=y)}return r?(Math.random()<.02&&console.log(`Best approach: (${r.x.toFixed(1)}, ${r.y.toFixed(1)}) with path cost ${p.toFixed(3)} and length ${g} (evaluated ${C} candidates)`),r):h[0]}drawColonistProfile(t){const i=this.ctx,s=this.canvas.width,n=this.canvas.height,a=Math.min(this.scale(450),s*.55),h=Math.min(this.scale(380),n*.55),A=this.scale(12),o=s-a-A,c=this.scale(54),r=Math.min(c,n-h-A);i.save(),i.fillStyle="#0b1220cc",i.fillRect(o,r,a,h),i.strokeStyle="#1e293b",i.strokeRect(o+.5,r+.5,a-1,h-1);const g=this.scale(26),p=this.scale(8),C=o+a-p-g,E=r+p;i.fillStyle="#0f172a",i.fillRect(C,E,g,g),i.strokeStyle="#1e293b",i.strokeRect(C+.5,E+.5,g-1,g-1),i.fillStyle="#dbeafe",i.font=this.getScaledFont(16,"700"),i.textAlign="center",i.textBaseline="middle",i.fillText("",C+g/2,E+g/2+this.scale(1));const y=this.scale(50),B=o+this.scale(18),b=r+this.scale(26);i.fillStyle="#0f172a",i.fillRect(B,b,y,y),i.strokeStyle="#1e293b",i.strokeRect(B+.5,b+.5,y-1,y-1),i.save(),i.translate(B+y/2,b+y/2),i.scale(this.uiScale*1.5,this.uiScale*1.5),Ft(i,0,0,t,12,!0),i.restore();const l=t.profile,d=o+y+this.scale(24);let f=r+this.scale(22);i.fillStyle="#dbeafe",i.font=this.getScaledFont(16,"700"),i.textAlign="left",l?(i.fillText(l.name,d,f),f+=this.scale(18),i.font=this.getScaledFont(12,"400"),i.fillStyle="#94a3b8",i.fillText(l.background,d,f),f+=this.scale(16),i.fillStyle="#60a5fa",i.fillText(`Personality: ${l.personality.join(", ")}`,d,f),f+=this.scale(16),i.fillStyle="#fbbf24",i.fillText(`Favorite Food: ${l.favoriteFood}`,d,f),f+=this.scale(20)):(i.fillText("Unnamed Colonist",d,f),f+=this.scale(18),i.font=this.getScaledFont(12,"400"),i.fillStyle="#94a3b8",i.fillText("No background available",d,f),f+=this.scale(36));const m=t.inside?"Resting":t.task?t.task:"Idle",x=Math.max(0,Math.min(100,t.hp|0)),v=Math.max(0,Math.min(100,(t.fatigue||0)|0)),M=Math.max(0,Math.min(100,(t.hunger||0)|0)),S=xt(t),w=this.scale(18);if(this.barRow(d,f,"Health",x,"#22c55e"),f+=w,this.barRow(d,f,"Energy",100-v,"#eab308"),f+=w,this.barRow(d,f,"Fullness",100-M,"#f87171"),f+=w,i.fillStyle="#9fb3c8",i.font=this.getScaledFont(11),f+=this.scale(8),i.fillText(`Currently: ${m}`,d,f),f+=this.scale(14),i.fillText(`Mood: ${S}`,d,f),f+=this.scale(14),i.fillText(`Position: ${t.x|0}, ${t.y|0}`,d,f),f+=this.scale(14),l&&l.backstory&&f<r+h-this.scale(40)){i.fillStyle="#6b7280",i.font=this.getScaledFont(10,"400");const k=l.backstory.split(" "),D=a-this.scale(40);let T="";f+=this.scale(8);for(let P of k){const G=T+P+" ";if(i.measureText(G).width>D&&T!==""){if(i.fillText(T.trim(),d,f),f+=this.scale(12),T=P+" ",f>r+h-this.scale(20))break}else T=G}T.trim()&&f<=r+h-this.scale(20)&&i.fillText(T.trim(),d,f)}i.fillStyle="#4b5563",i.font=this.getScaledFont(9),i.fillText(this.follow?"Following (Esc to stop)":"Click to follow",d,r+h-this.scale(8)),this.colonistPanelRect={x:o,y:r,w:a,h},this.colonistPanelCloseRect={x:C,y:E,w:g,h:g},i.restore()}barRow(t,i,s,n,a){const h=this.ctx;h.fillStyle="#dbeafe",h.fillText(s,t,i);const A=this.scale(140),o=this.scale(10),c=this.scale(70);h.fillStyle="#0f172a",h.fillRect(t+c,i-this.scale(8),A,o),h.strokeStyle="#1e293b",h.strokeRect(t+c+.5,i-this.scale(8)+.5,A-1,o-1),h.fillStyle=a,h.fillRect(t+c+this.scale(2),i-this.scale(6),Math.max(0,Math.min(A-this.scale(4),n/100*(A-this.scale(4)))),o-this.scale(4))}drawBuildMenu(){const t=this.ctx,i=this.canvas.width,s=this.canvas.height,n=this.isTouch?980:860,a=this.isTouch?720:620,h=this.isTouch?28:40,A=this.isTouch?60:80,o=Math.min(this.scale(n),i-this.scale(h)),c=Math.min(this.scale(a),s-this.scale(A)),r=(i-o)/2,g=(s-c)/2;t.save(),t.fillStyle="#0b1628dd",t.fillRect(r,g,o,c),t.strokeStyle="#1e293b",t.strokeRect(r+.5,g+.5,o-1,c-1),t.fillStyle="#dbeafe",t.font=this.getScaledFont(this.isTouch?22:18,"600"),t.fillText("Build Menu (B to close)",r+this.scale(14),g+this.scale(24));const p=Ae(L),C=Object.keys(p),E=this.scale(this.isTouch?36:28),y=Math.floor((o-E)/Math.max(1,C.length));this.menuRects=[];let B=null;for(let d=0;d<C.length;d++){const f=r+this.scale(12)+d*y;let m=g+this.scale(50);const x=C[d];t.fillStyle="#93c5fd",t.font=this.getScaledFont(this.isTouch?18:15,"600"),t.fillText(x,f,m),m+=this.scale(this.isTouch?12:8);const v=p[x];for(const[M,S]of v){m+=this.scale(this.isTouch?12:8);const w=this.scale(this.isTouch?78:58),k=y-this.scale(18),D=f,T=m,P=this.mouse.x*this.DPR,G=this.mouse.y*this.DPR,F=P>=D&&P<=D+k&&G>=T&&G<=T+w;t.fillStyle=this.selectedBuild===M?"#102034":F?"#1a1f2e":"#0f172a",t.fillRect(D,T,k,w),t.strokeStyle=this.selectedBuild===M?"#4b9fff":F?"#3b82f6":"#1e293b",t.strokeRect(D+.5,T+.5,k-1,w-1),t.fillStyle="#dbeafe",t.font=this.getScaledFont(this.isTouch?18:15,"600"),t.fillText(S.name,D+this.scale(10),T+this.scale(this.isTouch?22:18));const Y=this.costText(S.cost||{});t.fillStyle="#9fb3c8",t.font=this.getScaledFont(this.isTouch?14:12);const H=Math.min(this.scale(this.isTouch?120:100),t.measureText(Y).width+this.scale(4));if(t.fillText(Y,D+k-H,T+this.scale(this.isTouch?22:18)),S.description){t.fillStyle="#94a3b8",t.font=this.getScaledFont(this.isTouch?14:12);const $=k-this.scale(18);let W=S.description;for(;t.measureText(W).width>$&&W.length>10;)W=W.substring(0,W.length-4)+"...";t.fillText(W,D+this.scale(10),T+this.scale(this.isTouch?46:36))}if(F&&S.description&&(B={key:M,desc:S.description}),this.menuRects.push({key:M,x:D,y:T,w:k,h:w}),m+=w,m>g+c-this.scale(this.isTouch?90:70))break}}if(B){const d=this.scale(this.isTouch?16:14),f=this.scale(this.isTouch?420:360);t.font=this.getScaledFont(this.isTouch?16:14);const m=this.wrapText(B.desc,f-d*2),x=this.scale(this.isTouch?20:18),v=m.length*x+d*2,M=this.mouse.x*this.DPR,S=this.mouse.y*this.DPR;let w=M+this.scale(20),k=S-v-this.scale(10);w+f>i&&(w=M-f-this.scale(20)),k<0&&(k=S+this.scale(20)),t.fillStyle="#0f1419f0",t.fillRect(w,k,f,v),t.strokeStyle="#374151",t.strokeRect(w+.5,k+.5,f-1,v-1),t.fillStyle="#e5e7eb";for(let D=0;D<m.length;D++)t.fillText(m[D],w+d,k+d+(D+1)*x-this.scale(4))}t.fillStyle="#9fb3c8",t.font=this.getScaledFont(this.isTouch?16:14);const b="Click a building to select  Hover for details  Press B to close",l=t.measureText(b).width;t.fillText(b,(i-l)/2,g+c+this.scale(this.isTouch?30:24)),t.restore()}wrapText(t,i){const s=this.ctx,n=t.split(" "),a=[];let h="";for(const A of n){const o=h+(h?" ":"")+A;s.measureText(o).width<=i?h=o:(h&&a.push(h),h=A)}return h&&a.push(h),a}handleBuildMenuClick(){const t=this.mouse.x*this.DPR,i=this.mouse.y*this.DPR;for(const s of this.menuRects)if(t>=s.x&&t<=s.x+s.w&&i>=s.y&&i<=s.y+s.h){this.selectedBuild=s.key,this.showBuildMenu=!1,this.toast("Selected: "+L[s.key].name);return}this.showBuildMenu=!1}drawPlacementUI(){const t=this.pendingPlacement;if(!t)return;const i=L[t.key],s=this.ctx,n=i.size.w*u,a=i.size.h*u,A=((l,d)=>({x:(l-this.camera.x)*this.camera.zoom,y:(d-this.camera.y)*this.camera.zoom}))(t.x,t.y),o=n*this.camera.zoom,c=a*this.camera.zoom;s.save(),s.globalAlpha=.6,s.fillStyle=N.ghost,s.fillRect(A.x,A.y,o,c),s.globalAlpha=1,s.strokeStyle="#4b9fff",s.setLineDash([4,3]),s.strokeRect(A.x+.5,A.y+.5,o-1,c-1),s.setLineDash([]),s.restore();const r=this.scale(10),g=this.scale(38);let p=A.x+o+r,C=A.y;const E=this.canvas.width;p+g*3>E-this.scale(6)&&(p=Math.max(this.scale(6),A.x-r-g*3));const y=(l,d,f)=>({id:l,x:d,y:f,w:g,h:g}),B=[y("up",p+g,C),y("left",p,C+g),y("right",p+g*2,C+g),y("down",p+g,C+g*2),y("cancel",p,C+g*3+this.scale(4)),y("ok",p+g*2,C+g*3+this.scale(4))];this.placeUIRects=B,s.save(),s.fillStyle="#0f172aee",s.strokeStyle="#1e293b";const b=(l,d)=>{s.fillRect(l.x,l.y,l.w,l.h),s.strokeRect(l.x+.5,l.y+.5,l.w-1,l.h-1),s.fillStyle="#dbeafe",s.font=this.getScaledFont(18,"600"),s.textAlign="center",s.textBaseline="middle",s.fillText(d,l.x+l.w/2,l.y+l.h/2+this.scale(2)),s.fillStyle="#0f172aee"};for(const l of B)l.id==="up"?b(l,""):l.id==="down"?b(l,""):l.id==="left"?b(l,""):l.id==="right"?b(l,""):l.id==="ok"?b(l,"OK"):l.id==="cancel"&&b(l,"X");s.restore()}}const X=document.getElementById("game"),Bt=document.getElementById("btnPause"),Os=document.getElementById("btnHelp"),At=document.getElementById("btnToggleUI"),lt=document.getElementById("btnMenu"),q=document.getElementById("headerDropdown"),Yt=document.getElementById("hd-new"),Gt=document.getElementById("hd-help"),zt=document.getElementById("hd-build"),Lt=document.getElementById("hd-toggle-mobile"),Qs=document.getElementById("btnNew"),_=document.getElementById("help"),vt=document.getElementById("mobileControls"),Nt=document.getElementById("mc-build"),Ot=document.getElementById("mc-cancel"),Qt=document.getElementById("mc-erase"),Ut=document.getElementById("mc-pause"),Wt=document.getElementById("mc-ff"),Ht=document.getElementById("mc-zoom-in"),Xt=document.getElementById("mc-zoom-out");_&&(_.innerHTML=`
    <h2>How to play</h2>
    <div><b>Goal:</b> Gather wood & stone, build farms for food, add houses for pop cap; survive nightly raids with turrets/walls.</div>
  <div><b>Controls:</b> 1..9 quick-build, <b>B</b> build menu, LMB place, RMB cancel/erase; WASD pan; Space pause; H toggle help; +/- zoom; F fast-forward.</div>
  <div><b>UI Modes:</b>  Mobile UI shows touch controls for tap/touch gameplay.  Desktop UI is clean with keyboard shortcuts only.</div>
  `);async function Us(){const e=X.getContext("2d");e&&(e.fillStyle="#0a0e14",e.fillRect(0,0,X.width,X.height),e.fillStyle="#dbeafe",e.font="24px system-ui",e.textAlign="center",e.fillText("Loading assets...",X.width/2,X.height/2));try{await j.getInstance().loadAssets(),console.log("Assets loaded successfully"),console.log("House image loaded:",!!j.getInstance().getImage("house"))}catch(o){console.warn("Some assets failed to load:",o)}const t=new Ns(X);Bt.onclick=()=>{t.paused=!t.paused,Bt.textContent=t.paused?"Resume":"Pause"},Qs.onclick=()=>{t.newGame()},Os.onclick=()=>{_&&(_.hidden=!_.hidden)},Object.assign(window,{game:t,BUILD_TYPES:L,imageAssets:j.getInstance()});const i="ontouchstart"in window||navigator.maxTouchPoints>0;let s=localStorage.getItem("colonyUI_mobileMode"),n=s!==null?s==="true":i;const a=o=>{n=o,window._mobileUI=o,localStorage.setItem("colonyUI_mobileMode",o.toString()),vt&&(vt.hidden=!o,vt.style.display=o?"flex":"none"),lt&&(lt.hidden=!o),At&&(At.textContent=o?"":"",At.title=o?"Switch to Desktop UI":"Switch to Mobile UI"),t.toast(o?"Mobile UI: ON":"Desktop UI: ON")};At&&(At.onclick=()=>{a(!n)}),a(n),document.addEventListener("keydown",o=>{const c=[" ","h","b","f","g","j","escape","w","a","s","d","+","=","-","_"],r=/^[1-9]$/.test(o.key);(c.includes(o.key.toLowerCase())||r)&&document.activeElement&&document.activeElement!==document.body&&document.activeElement.blur()}),lt&&q&&(lt.onclick=()=>{q.hidden=!q.hidden},Yt&&(Yt.onclick=()=>{q.hidden=!0,t.newGame()}),Gt&&(Gt.onclick=()=>{q.hidden=!0,_&&(_.hidden=!_.hidden)}),zt&&(zt.onclick=()=>{q.hidden=!0,t.showBuildMenu=!t.showBuildMenu}),Lt&&(Lt.onclick=()=>{q.hidden=!0,a(!n)}),document.addEventListener("click",o=>{if(!q)return;const c=o.target;c&&!q.contains(c)&&c!==lt&&(q.hidden=!0)})),Nt&&(Nt.onclick=()=>{t.showBuildMenu=!t.showBuildMenu}),Ot&&(Ot.onclick=()=>{t.selectedBuild=null,t.toast("Build canceled")}),Qt&&(Qt.onclick=()=>{window._eraseOnce=!0,t.toast("Erase mode: tap on a building to remove")}),Ut&&(Ut.onclick=()=>{t.paused=!t.paused,Bt.textContent=t.paused?"Resume":"Pause"}),Wt&&(Wt.onclick=()=>{t.fastForward=t.fastForward===1?6:1,t.toast(t.fastForward>1?"Fast-forward ON":"Fast-forward OFF")}),Ht&&(Ht.onclick=()=>{t.camera.zoom=Math.max(.6,Math.min(2.2,t.camera.zoom*1.1))}),Xt&&(Xt.onclick=()=>{t.camera.zoom=Math.max(.6,Math.min(2.2,t.camera.zoom/1.1))});let h=null,A=null;X.addEventListener("touchstart",o=>{if(o.preventDefault(),o.touches.length===1)A={x:o.touches[0].clientX,y:o.touches[0].clientY};else if(o.touches.length===2){const c=o.touches[0].clientX-o.touches[1].clientX,r=o.touches[0].clientY-o.touches[1].clientY;h=Math.hypot(c,r)}},{passive:!1}),X.addEventListener("touchmove",o=>{if(o.preventDefault(),o.touches.length===1&&A){const c=o.touches[0].clientX,r=o.touches[0].clientY,g=c-A.x,p=r-A.y;A={x:c,y:r},t.camera.x-=g*(1/t.camera.zoom)*t.DPR,t.camera.y-=p*(1/t.camera.zoom)*t.DPR}else if(o.touches.length===2){const c=o.touches[0].clientX-o.touches[1].clientX,r=o.touches[0].clientY-o.touches[1].clientY,g=Math.hypot(c,r);if(h!=null){const p=g/(h||g);t.camera.zoom=Math.max(.6,Math.min(2.2,t.camera.zoom*p))}h=g}},{passive:!1}),X.addEventListener("touchend",o=>{o.preventDefault();const c=window._eraseOnce;if(c&&o.changedTouches.length===1){window._eraseOnce=!1;const r=X.getBoundingClientRect(),g=o.changedTouches[0].clientX-r.left,p=o.changedTouches[0].clientY-r.top,C=t.screenToWorld(g,p);for(let E=t.buildings.length-1;E>=0;E--){const y=t.buildings[E];if(y.kind!=="hq"&&C.x>=y.x&&C.x<=y.x+y.w&&C.y>=y.y&&C.y<=y.y+y.h){t.evictColonistsFrom(y),t.buildings.splice(E,1),t.msg("Building removed"),t.rebuildNavGrid();break}}}if(!c&&o.changedTouches.length===1){const r=X.getBoundingClientRect(),g=o.changedTouches[0].clientX-r.left,p=o.changedTouches[0].clientY-r.top;t.handleTapOrClickAtScreen(g,p)}o.touches.length===0&&(A=null,h=null)},{passive:!1})}Us();
