:root{--bg:#0b0f14;--fg:#e6f0ff;--accent:#6ee7ff;--muted:#9fb3c8;--good:#7CFC00;--bad:#ff6b6b;--warn:#ffd166}
html,body{height:100%;margin:0;background:linear-gradient(180deg,#0b0f14 0%, #0e121a 60%, #0b0f14 100%);color:var(--fg);font-family:system-ui,-apple-system,Segoe UI,Roboto,Ubuntu,Cantarell,"Noto Sans",sans-serif;-webkit-text-size-adjust:100%;overscroll-behavior:none}
#wrap,body,header,#game{user-select:none;-webkit-user-select:none;-ms-user-select:none}
#mobileControls, header, #headerDropdown, button { user-select: none; -webkit-user-select: none; }
#game{touch-action:none}
#wrap{position:fixed;inset:0;display:grid;grid-template-rows:auto 1fr}
header{display:flex;gap:.75rem;align-items:center;padding:.5rem .75rem;border-bottom:1px solid #18202c;background:#0d131b88;backdrop-filter:blur(6px)}
header h1{font-size:clamp(14px,2.0vw,20px);font-weight:600;margin:0;letter-spacing:.4px;color:var(--muted)}
header h1 #ver{font-size:.82em;opacity:.9}
header .spacer{flex:1}
header button{appearance:none;border:1px solid #1b2736;background:#0f1621;color:var(--fg);padding:.5rem .8rem;border-radius:.75rem;cursor:pointer;font-size:clamp(13px,1.8vw,18px);line-height:1;min-height:44px;min-width:44px;outline:none}
header button:hover{border-color:#2b3d59}
header button:focus{outline:none;border-color:#2b3d59}
#btnToggleUI{background:#1a2332;border-color:#2b3d59;color:var(--accent);font-size:20px;transition:all 0.2s ease}
#btnToggleUI:hover{background:#243041;border-color:#3b4d69;transform:scale(1.05)}
#game{display:block;width:100%;height:100%}
#headerDropdown{position:fixed;top:56px;right:12px;background:#0f1621;border:1px solid #1e293b;border-radius:.75rem;box-shadow:0 12px 28px #0008;padding:8px;z-index:20}
#headerDropdown[hidden]{display:none}
#headerDropdown button{display:block;width:100%;text-align:left;margin:4px 0;outline:none}
#headerDropdown button:focus{outline:none}
button{outline:none}
button:focus{outline:none}
#toast{position:fixed;left:50%;transform:translateX(-50%);bottom:18px;background:#0f172288;border:1px solid #1f2a3a;color:#dfe9ff;padding:.6rem .9rem;border-radius:.75rem;box-shadow:0 10px 30px #00000066;opacity:0;pointer-events:none;transition:opacity .25s ease;font-size:clamp(13px,1.8vw,18px)}
#help{position:fixed;inset:auto 12px 12px auto;max-width:min(560px,42vw);background:#0f172aee;border:1px solid #1e293b;color:#dbeafe;padding:14px 16px;border-radius:14px;box-shadow:0 16px 32px #0008;font-size:clamp(14px,1.9vw,18px);line-height:1.4}
#legend{position:fixed;left:12px;bottom:12px;background:#0f172aee;border:1px solid #1e293b;color:#dbeafe;border-radius:14px;padding:10px 12px;font-size:clamp(12px,1.7vw,17px);line-height:1.35}
.tag{display:inline-block;padding:.05rem .35rem;border-radius:.35rem;margin-right:.3rem;font-weight:600}
.t-colonist{background:#c7f9cc22;border:1px solid #c7f9cc55;color:#c7f9cc}
.t-enemy{background:#ffd6d622;border:1px solid #ffd6d655;color:#ffd6d6}
.t-tree{background:#c4f1be22;border:1px solid #c4f1be55;color:#c4f1be}
.t-rock{background:#cbd5e122;border:1px solid #cbd5e155;color:#cbd5e1}
.t-bld{background:#93c5fd22;border:1px solid #93c5fd55;color:#93c5fd}

/* Mobile controls overlay */
#mobileControls{position:fixed;right:12px;bottom:102px;display:flex;flex-direction:column;gap:8px;z-index:10}
#mobileControls button{appearance:none;border:1px solid #1b2736;background:#0f1621;color:var(--fg);padding:.6rem;border-radius:.75rem;cursor:pointer;font-size:18px;min-height:44px;min-width:44px;box-shadow:0 4px 12px #0006;outline:none;transition:all 0.2s ease}
#mobileControls button:hover{border-color:#2b3d59;background:#1a2332}
#mobileControls button:active{transform:scale(0.95)}
#mobileControls button:focus{outline:none}
#mobileControls button.active{background:#1a2332;border-color:#2b3d59;color:var(--accent)}
#mobileControls .zoom{display:flex;gap:8px;justify-content:flex-end}
#mobileControls .zoom button{min-width:44px}

/* Touch-friendly and tablet adjustments (iPad 10th gen is 820px wide in portrait) */
@media (max-width: 1024px), (hover: none) and (pointer: coarse) {
	header { padding: .5rem .65rem; gap: .5rem; }
	header h1 { font-size: clamp(14px, 2.1vw, 18px); }
	header h1 #ver { font-size: .78em; opacity: .85; }
	header button { padding: .55rem .8rem; min-height: 44px; font-size: clamp(14px, 2.0vw, 17px); }
	#btnMenu{display:inline-block}
	#btnToggleUI{display:inline-block} /* Keep toggle button visible on all devices */
	#btnNew,#btnPause,#btnHelp{display:none}

	#legend { left: 10px; bottom: 10px; border-radius: 16px; padding: 14px 16px; font-size: clamp(15px, 2.6vw, 19px); }
	#help { inset: auto 12px 12px 12px; max-width: none; width: calc(100vw - 24px); border-radius: 18px; font-size: clamp(16px, 2.6vw, 20px); }
	#toast { bottom: 14px; border-radius: 14px; font-size: clamp(15px, 2.5vw, 19px); }
	.tag { padding: .12rem .5rem; border-radius: .5rem; }
	#mobileControls { bottom: 100px; right: 10px; gap: 10px; }
	#mobileControls button { font-size: 20px; padding: .7rem; min-height: 48px; }
	#mobileControls button:hover { background: #0f1621; }
	#mobileControls button:active { transform: scale(0.95); }
}
